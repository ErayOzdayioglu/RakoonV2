(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{112:function(e,t,r){},113:function(e,t,r){},183:function(e,t,r){},193:function(e,t,r){},195:function(e,t,r){},217:function(e,t){},219:function(e,t){},233:function(e,t){},235:function(e,t){},263:function(e,t){},265:function(e,t){},266:function(e,t){},271:function(e,t){},273:function(e,t){},292:function(e,t){},304:function(e,t){},307:function(e,t){},329:function(e,t,r){},331:function(e,t,r){},332:function(e,t,r){},333:function(e,t,r){},334:function(e,t,r){"use strict";r.r(t);var n=r(1),s=r.n(n),a=r(42),c=r.n(a),i=(r(192),r(193),r(3)),o=r(18),l=r(2),d=r.n(l),u=r(7),j=(r(195),r(5)),b=r.n(j),p=r(15),x=r(0),h=r(21),m=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),r=t[0],s=t[1],a=Object(n.useState)(""),c=Object(i.a)(a,2),l=c[0],j=c[1],m=Object(o.g)(),O=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORT,function(){var e=Object(u.a)(d.a.mark((function e(t){var n,a,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=document.querySelector("#rememberMe").checked,s(""),j(""),e.next=6,b()({method:"POST",data:{username:r,password:l},credentials:"include",withCredentials:!0,url:"/login"});case 6:if("notVerified"!==(a=e.sent).data){e.next=11;break}document.querySelector(".notverified").style.display="block",e.next=25;break;case 11:if(typeof a.data!=typeof{}){e.next=17;break}c=h.sign(a.data,"shhhhh"),n?sessionStorage.setItem("sessionID",c):localStorage.setItem("sessionID",c),m.push("/"),e.next=25;break;case 17:if("twofa"!==a.data){e.next=24;break}return e.next=20,b()({method:"POST",data:{email:r},credentials:"include",withCredentials:!0,url:"/2fa/generateSecret"});case 20:i=e.sent,m.push("/two-factor-auth/".concat(i.data.user_id)),e.next=25;break;case 24:"UserNotExist"===a.data?(document.querySelector(".WrongPassword").style.display="none",document.querySelector(".error").style.display="block"):"WrongPassword"===a.data&&(document.querySelector(".error").style.display="none",document.querySelector(".WrongPassword").style.display="block");case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(x.jsx)("div",{style:{marginTop:"2rem"},children:Object(x.jsxs)("div",{className:"form_container",style:{width:"590px",margin:"0 auto",fontSize:"2em"},children:[Object(x.jsx)("div",{style:{marginBottom:"1em",width:"100%",borderBottom:"1px solid grey"},children:Object(x.jsxs)(p.a,{style:{display:"flex",width:"100%"},children:[Object(x.jsx)(p.a.Link,{style:{borderRight:"1px solid grey",flex:"1",textAlign:"center"},href:"/login",children:"LOGIN"}),Object(x.jsx)(p.a.Link,{eventKey:2,href:"/register",style:{flex:"1",textAlign:"center",background:"rgb(225,225,225)"},children:"SIGN UP"})]})}),Object(x.jsxs)("form",{onSubmit:O,children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"E-mail:"}),Object(x.jsx)("input",{type:"email",value:r,onChange:function(e){return s(e.target.value)}})]}),Object(x.jsxs)("div",{style:{position:"relative"},children:[Object(x.jsx)("label",{children:"Password:"}),Object(x.jsx)("input",{type:"password",value:l,onChange:function(e){return j(e.target.value)}}),Object(x.jsx)("span",{style:{fontSize:"16px",position:"absolute",right:"0",bottom:"-25px",color:"red",display:"none"},className:"error",children:"Email or Password is wrong!"}),Object(x.jsx)("span",{style:{fontSize:"16px",position:"absolute",right:"0",bottom:"-25px",color:"red",display:"none"},className:"notverified",children:"User is not verified"}),Object(x.jsx)("span",{style:{fontSize:"16px",position:"absolute",right:"0",bottom:"-25px",color:"red",display:"none"},className:"WrongPassword",children:"Your password is wrong"}),Object(x.jsx)("span",{style:{fontSize:"16px",position:"absolute",right:"0",bottom:"-55px",color:"red",cursor:"pointer"},onClick:function(){m.push("/forgot")},children:"Forgot Password?"})]}),Object(x.jsx)("div",{children:Object(x.jsxs)("div",{style:{margin:"1rem auto 0"},children:[Object(x.jsx)("label",{for:"rememberMe",style:{fontSize:"17px",marginRight:"8px"},children:"Remember Me"}),Object(x.jsx)("input",{type:"checkbox",id:"rememberMe",name:"rememberMe",style:{transform:"scale(1.3)"}})]})}),Object(x.jsx)("div",{children:Object(x.jsx)("button",{type:"submit",className:"btn",style:{border:"1px solid black",display:"inline-block",marginTop:"10px",fontSize:"20px"},children:"Login"})})]})]})})},O=r(22),f=r(27),y=r(341),g=r(14),v=(r(329),function(e){return parseInt(e.num)>parseInt(e.highlited)&&void 0===e.addComment?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("input",{type:"radio",name:"rate",value:e.num}),Object(x.jsx)("label",{for:"star"+e.num,title:"text"})]}):void 0===e.addComment?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("input",{type:"radio",name:"rate",value:e.num}),Object(x.jsx)("label",{for:"star"+e.num,title:"text",style:{color:"#ffc700"}})]}):parseInt(e.num)>parseInt(e.highlited)?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("input",{type:"radio",id:"star"+e.num,name:"rate",value:e.num,onChange:function(t){return e.setRate(parseInt(t.target.value))}}),Object(x.jsx)("label",{for:"star"+e.num,title:"text"})]}):void 0}),w=function(e){return Object(x.jsx)("div",{className:"rate",id:e.id,style:{position:"relative"},children:["5","4","3","2","1"].map((function(t){return Object(x.jsx)(v,{num:t,highlited:e.rate,addComment:e.addComment,setRate:e.setRate})}))})},S=r(21),C=function(e){var t=e.isRemovable?"Delete":"Add To Cart",r=localStorage.getItem("sessionID")||sessionStorage.getItem("sessionID"),n=null!==r?S.verify(r,"shhhhh"):null,s={id:e.item_id,name:e.item_name,store:e.store_name,text:e.description,img:e.image,price:e.price,rate:parseFloat(e.rate)},a=function(){var t=Object(u.a)(d.a.mark((function t(n){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),e.isRemovable){t.next=13;break}if(null===r){t.next=8;break}return t.next=5,b()({method:"POST",data:{item:s,user:r},withCredentials:!0,url:"/cart/product/".concat(s.id)});case 5:t.sent,t.next=10;break;case 8:a={item_id:s.id,item_name:s.name,description:s.text,image:s.img,price:s.price},localStorage.setItem(s.id,JSON.stringify(a));case 10:e.setNumOfItems(e.numOfItems+1),t.next=22;break;case 13:if(!e.isRemovable){t.next=22;break}if(null===r){t.next=20;break}return t.next=17,b()({method:"DELETE",data:{item:s,user:r},withCredentials:!0,url:"/cart/product/".concat(s.id)});case 17:t.sent,t.next=21;break;case 20:localStorage.removeItem(s.id);case 21:e.setNumOfItems(e.numOfItems-1);case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(x.jsxs)(y.a,{className:"my-3 p-3 rounded",style:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden"},children:[Object(x.jsx)(g.b,{to:"/product/".concat(s.id),style:{},children:Object(x.jsx)(y.a.Img,{src:s.img,variant:"top",style:{flexShrink:"0",minWidth:"100%",minHeight:"100%"}})}),Object(x.jsx)(g.b,{to:"/product/".concat(s.id),children:Object(x.jsxs)(y.a.Title,{as:"div",children:[Object(x.jsx)("strong",{style:{display:"block",marginTop:"1rem"},children:s.name}),Object(x.jsx)("span",{style:{float:"right",color:"black"},children:s.store})]})}),Object(x.jsx)(w,{rate:Math.floor(s.rate)}),Object(x.jsxs)(y.a.Body,{children:[Object(x.jsxs)(y.a.Text,{as:"h5",style:{textAlign:"center"},children:["$",s.price]}),null===n||1===n.role_id?Object(x.jsx)(f.a,{variant:"success",children:Object(x.jsx)("span",{onClick:function(e){return a(e)},children:t})}):null]})]})},I=(r(79),r(339)),k=r(68),A=r(43),T=function(e){var t=Object(n.useState)([]),r=Object(i.a)(t,2),a=r[0],c=r[1],o=s.a.useState(),l=Object(i.a)(o,2),j=l[0],p=l[1],h=s.a.useState(),m=Object(i.a)(h,2),f=m[0],y=m[1],g=function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()({method:"GET",withCredentials:!0,url:"/products"});case 2:t=e.sent,c(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){g()}),[]);return Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{style:{textAlign:"center",margin:"1rem"},children:"Welcome to Rakoon E-Commerce!"}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Price"}),Object(x.jsx)("input",{id:"min",type:"number",onChange:function(e){return p(parseInt(e.target.value))}}),Object(x.jsx)("input",{id:"max",type:"number",onChange:function(e){return y(parseInt(e.target.value))}}),Object(x.jsx)("input",{type:"button",onClick:function(){return console.log(j),console.log(f),void c(a.filter((function(e){return e.price<f&&e.price>j})))},value:"search"})]}),Object(x.jsx)(I.a,{children:Object(x.jsx)(k.a,{children:a.map((function(t){return Object(x.jsx)(A.a,{sm:12,md:6,lg:4,xl:3,children:Object(x.jsx)(C,Object(O.a)(Object(O.a)({id:t.item_id},t),{},{numOfItems:e.numOfItems,setNumOfItems:e.setNumOfItems}),t.item_id)})}))})})]})},E=(r(183),r.p+"static/media/loading.87aedd21.gif");function N(e){if(-1!==(e=String(e)).indexOf("."))for(var t=e.indexOf(".")-3;t>0;t-=3)e=e.substring(0,t)+","+e.substring(t);else for(var r=e.length-3;r>0;r-=3)e=e.substring(0,r)+","+e.substring(r);return e=e.split(".")[0]+"."+e.split(".")[1].substring(0,3)}var D=function(e){var t=localStorage.getItem("sessionID")||sessionStorage.getItem("sessionID"),r=Object(n.useState)([]),s=Object(i.a)(r,2),a=s[0],c=s[1],o=Object(n.useRef)(!0),l=function(){var e=Object(u.a)(d.a.mark((function e(){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()({method:"POST",data:{sessionID:t},withCredentials:!0,url:"/cart/products"});case 2:r=e.sent,c(r.data),console.log(r.data),o.current=!1;case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){if(null!==t)l();else{var e=[];Object.keys(localStorage).forEach((function(t){e.push(JSON.parse(localStorage.getItem(t)))})),c(e)}}),[]),0!==a.length&&"string"!==typeof a?Object(x.jsxs)("div",{children:[Object(x.jsx)(g.b,{className:"btn btn-light my-3",to:"/",children:"Go Back"}),Object(x.jsx)("h4",{class:"mb-5",style:{textAlign:"center"},children:"My Cart"}),Object(x.jsx)(I.a,{style:{display:"block"},children:Object(x.jsxs)("div",{class:"row",children:[Object(x.jsxs)("div",{class:"col-md-4 order-md-2 mb-4",children:[Object(x.jsx)("h4",{class:"d-flex justify-content-between align-items-center mb-3",children:Object(x.jsx)("span",{class:"text-muted",children:"Your cart"})}),Object(x.jsxs)("ul",{class:"list-group mb-3",children:[a.map((function(e){return Object(x.jsxs)("li",{class:"list-group-item d-flex justify-content-between lh-condensed",children:[Object(x.jsx)("div",{children:Object(x.jsx)("h6",{class:"my-0",children:e.item_name})}),Object(x.jsxs)("span",{class:"text-muted",children:["$",e.price]})]})})),Object(x.jsxs)("li",{class:"list-group-item d-flex justify-content-between",children:[Object(x.jsx)("div",{children:Object(x.jsx)("h6",{class:"my-0",children:"Total:"})}),Object(x.jsxs)("span",{children:["$",N(a.reduce((function(e,t){return e+t.price}),0))]})]}),Object(x.jsxs)("div",{style:{marginTop:"1rem"},children:[" ",Object(x.jsx)(f.a,{href:"/checkout",children:"Checkout"})]})]})]}),Object(x.jsx)("div",{class:"col-md-8 order-md-1",children:Object(x.jsx)("div",{className:"row",children:a.map((function(t){return Object(x.jsx)(A.a,{sm:12,md:6,lg:5,xl:4,children:Object(x.jsx)(C,Object(O.a)(Object(O.a)({},t),{},{isRemovable:!0,numOfItems:e.numOfItems,setNumOfItems:e.setNumOfItems}),t.id)})}))})})]})})]}):void 0===a[0]?Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("img",{src:E,alt:"Loading..."})}):Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("span",{style:{fontSize:"20px",marginTop:"30px"},children:"You have no item in your cart"})})},P=r(9),R=r.p+"static/media/redX.ad3becd9.jpg",B=r.p+"static/media/greenTick.6aea34ad.png",L=(r(112),function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),r=t[0],s=t[1],a=Object(n.useState)(""),c=Object(i.a)(a,2),l=c[0],j=c[1],h=Object(n.useState)(""),m=Object(i.a)(h,2),O=m[0],y=m[1],g=Object(n.useState)(""),v=Object(i.a)(g,2),w=v[0],S=v[1],C=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORT,Object(o.g)()),I=function(){var e=Object(u.a)(d.a.mark((function e(t){var n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),document.querySelector("#formBasicPassword").value===document.querySelector("#formBasicPassword2").value){e.next=7;break}return document.querySelector("#doesNotMatch").style.display="flex",setTimeout((function(){document.querySelector("#doesNotMatch").style.display="none"}),3e3),e.abrupt("return");case 7:if(!(document.querySelector("#formBasicPassword").value.length<6)){e.next=13;break}return document.querySelector("#min6Char").style.display="flex",setTimeout((function(){document.querySelector("#min6Char").style.display="none"}),3e3),e.abrupt("return");case 13:if(!(document.querySelector("#firstName").value.length<3||document.querySelector("#lastName").value.length<3)){e.next=17;break}return document.querySelector("#nameError").style.display="flex",setTimeout((function(){document.querySelector("#nameError").style.display="none"}),3e3),e.abrupt("return");case 17:return document.querySelector("#submit").disabled=!0,document.querySelectorAll("input").forEach((function(e){return e.disabled=!0})),e.next=21,b()({method:"POST",data:{username:r,password:l,name:O,surname:w},credentials:"include",withCredentials:!0,url:"/register"});case 21:"exists"===(n=e.sent).data.res?(document.querySelector("#exists").style.display="flex",setTimeout((function(){document.querySelector("#exists").style.display="none"}),3e3),document.querySelector("#submit").disabled=!1,document.querySelectorAll("input").forEach((function(e){return e.disabled=!1}))):!0===n.data.success&&(0!==(s=Object.keys(localStorage)).length&&s.forEach(function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()({method:"POST",data:{item:t,user:{user_id:n.data.user_id}},withCredentials:!0,url:"/cart/product/".concat(t)}).then((function(e){return console.log(e)})).then((function(){return localStorage.clear()}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),document.querySelector("#success").style.display="flex",setTimeout((function(){document.querySelector("#success").style.display="none",C.push("/login")}),3e3));case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)("div",{style:{marginTop:"2rem"},children:Object(x.jsxs)("div",{className:"form_container",style:{width:"590px",margin:"0 auto",fontSize:"2em",position:"relative"},children:[Object(x.jsxs)("div",{style:{display:"none",position:"absolute",overflow:"auto",width:"450px",boxShadow:"0 0 15px grey",background:"white",top:"-90px",borderRadius:"10px"},id:"exists",children:[Object(x.jsx)("img",{src:R,alt:"error",style:{width:"70px",float:"left"}}),Object(x.jsxs)("div",{style:{flexGrow:"1",marginTop:"3px"},children:[Object(x.jsx)("span",{style:{fontSize:"20px"},children:"User already exists"}),Object(x.jsx)("div",{className:"progress-bar-error",children:Object(x.jsx)("span",{className:"progress-bar-inner"})})]})]}),Object(x.jsxs)("div",{style:{display:"none",padding:"10px",position:"absolute",overflow:"auto",width:"450px",boxShadow:"0 0 15px grey",background:"white",top:"-90px",borderRadius:"10px"},id:"success",children:[Object(x.jsx)("img",{src:B,alt:"success",style:{width:"70px",float:"left"}}),Object(x.jsxs)("div",{style:{flexGrow:"1",marginTop:"3px",marginLeft:"10px",lineHeight:"0.9"},children:[Object(x.jsxs)("span",{style:{fontSize:"20px"},children:["An email has been sent to ",r," for activation"]}),Object(x.jsx)("div",{className:"progress-bar-success",children:Object(x.jsx)("span",{className:"progress-bar-inner"})})]})]}),Object(x.jsxs)("div",{style:{display:"none",position:"absolute",overflow:"auto",width:"450px",boxShadow:"0 0 15px grey",background:"white",top:"-90px",borderRadius:"10px"},id:"doesNotMatch",children:[Object(x.jsx)("img",{src:R,alt:"error",style:{width:"70px",float:"left"}}),Object(x.jsxs)("div",{style:{flexGrow:"1",marginTop:"3px"},children:[Object(x.jsx)("span",{style:{fontSize:"20px"},children:"Passwords does not match"}),Object(x.jsx)("div",{className:"progress-bar-error",children:Object(x.jsx)("span",{className:"progress-bar-inner"})})]})]}),Object(x.jsxs)("div",{style:{display:"none",position:"absolute",overflow:"auto",width:"450px",boxShadow:"0 0 15px grey",background:"white",top:"-90px",borderRadius:"10px"},id:"min6Char",children:[Object(x.jsx)("img",{src:R,alt:"error",style:{width:"70px",float:"left"}}),Object(x.jsxs)("div",{style:{flexGrow:"1",marginTop:"3px"},children:[Object(x.jsx)("span",{style:{fontSize:"17px"},children:"Password should be minimum 6 characters"}),Object(x.jsx)("div",{className:"progress-bar-error",children:Object(x.jsx)("span",{className:"progress-bar-inner"})})]})]}),Object(x.jsxs)("div",{style:{display:"none",position:"absolute",overflow:"auto",width:"450px",boxShadow:"0 0 15px grey",background:"white",top:"-90px",borderRadius:"10px"},id:"nameError",children:[Object(x.jsx)("img",{src:R,alt:"error",style:{width:"70px",float:"left"}}),Object(x.jsxs)("div",{style:{flexGrow:"1",marginTop:"3px"},children:[Object(x.jsx)("span",{style:{fontSize:"17px"},children:"Your name or surname can not be empty"}),Object(x.jsx)("div",{className:"progress-bar-error",children:Object(x.jsx)("span",{className:"progress-bar-inner"})})]})]}),Object(x.jsx)("div",{style:{marginBottom:"1em",width:"100%",borderBottom:"1px solid grey"},children:Object(x.jsxs)(p.a,{style:{display:"flex",width:"100%"},children:[Object(x.jsx)(p.a.Link,{style:{borderRight:"1px solid grey",flex:"1",textAlign:"center",background:"rgb(225,225,225)"},href:"/login",children:"LOGIN"}),Object(x.jsx)(p.a.Link,{eventKey:2,href:"/register",style:{flex:"1",textAlign:"center"},children:"SIGN UP"})]})}),Object(x.jsxs)(P.a,{style:{margin:"0 auto",width:"500px"},children:[Object(x.jsxs)(P.a.Group,{controlId:"formBasicEmail",style:{position:"relative"},children:[Object(x.jsx)(P.a.Label,{children:"Email:"}),Object(x.jsx)(P.a.Control,{type:"email",placeholder:"Enter email",onChange:function(e){return s(e.target.value)},style:{width:"332px",border:"1px solid grey"}}),Object(x.jsx)("span",{style:{color:"darkgrey",fontSize:"14px",position:"absolute",bottom:"-15px",right:"-2px"},children:"We'll never share your email with anyone else."})]}),Object(x.jsxs)(P.a.Group,{controlId:"formBasicPassword",children:[Object(x.jsx)(P.a.Label,{children:"Password"}),Object(x.jsx)(P.a.Control,{type:"password",placeholder:"Password",onChange:function(e){return j(e.target.value)},style:{width:"332px",border:"1px solid grey"}})]}),Object(x.jsxs)(P.a.Group,{controlId:"formBasicPassword2",children:[Object(x.jsx)(P.a.Label,{children:"Password(*)"}),Object(x.jsx)(P.a.Control,{type:"password",placeholder:"Password",style:{width:"332px",border:"1px solid grey"}})]}),Object(x.jsxs)(k.a,{style:{width:"430px",marginLeft:"auto",display:"flex",justifyContent:"space-between",position:"relative"},children:[Object(x.jsx)(A.a,{children:Object(x.jsx)(P.a.Control,{placeholder:"First name",onChange:function(e){return y(e.target.value)},style:{border:"1px solid grey"},id:"firstName"})}),Object(x.jsx)(A.a,{children:Object(x.jsx)(P.a.Control,{placeholder:"Last name",onChange:function(e){return S(e.target.value)},style:{border:"1px solid grey"},id:"lastName"})}),Object(x.jsx)(p.a,{style:{fontSize:"16px",position:"absolute",right:"0px",bottom:"-40px",textDecoration:"underline"},children:Object(x.jsx)(p.a.Link,{href:"/store_register",children:"Want to open a store?"})})]}),Object(x.jsx)("div",{children:Object(x.jsx)(f.a,{variant:"primary",type:"submit",onClick:function(e){return I(e)},style:{marginTop:"20px"},id:"submit",children:"Submit"})})]})]})})}),q=r(69),z=function(){return Object(x.jsx)("div",{children:Object(x.jsx)("img",{src:"data:image/png;base64,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",alt:"Rakoon",style:{height:"100%",verticalAlign:"middle"}})})},_=r(116),G=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),r=t[0],s=t[1],a=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORT,function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()({method:"GET",withCredentials:!0,url:"/categories"});case 2:t=e.sent,s(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(n.useEffect)((function(){a()}),[]),Object(x.jsx)(_.a,{title:"Categories",id:"collasible-nav-dropdown",children:r.map((function(e){var t="/category/".concat(e.category);return Object(x.jsx)(_.a.Item,{href:t,style:{fontSize:"20px"},children:e.category})}))})},M=r(21),K=function(e){var t=Object(n.useRef)(!1),r=localStorage.getItem("sessionID")||sessionStorage.getItem("sessionID"),s=null;null!=r&&(s=M.verify(r,"shhhhh"));var a=function(){var t=Object(u.a)(d.a.mark((function t(){var n,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b()({method:"POST",data:{sessionID:r},withCredentials:!0,url:"/getCartItems"});case 2:n=t.sent,"string"!=typeof(s=n.data)&&e.setNumOfItems(s.length);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){if(null!==r)a();else{var t=Object.keys(localStorage);e.setNumOfItems(t.length)}}),[]),Object(n.useEffect)((function(){if(null!=s&&t.current&&3!==s.role_id){var r=document.getElementById("cart").innerHTML;0===e.numOfItems?r="Cart":r.includes("(")?r=r.split("(")[0]+"("+e.numOfItems+")":r+=" (".concat(e.numOfItems,")"),document.getElementById("cart").innerHTML=r}else t.current=!0}),[e.numOfItems]),null!=s&&3===s.role_id?Object(x.jsx)(p.a,{className:"mr-auto",children:Object(x.jsx)(G,{})}):Object(x.jsxs)(p.a,{className:"mr-auto",children:[Object(x.jsx)(p.a.Link,{href:"/cart",id:"cart",children:"".concat("Cart")}),Object(x.jsx)(G,{})]})},U=r(21),W=function(){var e=Object(n.useState)("STORE"),t=Object(i.a)(e,2),r=t[0],s=t[1],a=Object(o.g)(),c=localStorage.getItem("sessionID")||sessionStorage.getItem("sessionID"),l=Object(n.useState)("ROLE"),j=Object(i.a)(l,2),h=j[0],m=j[1],O=null;null!=c&&(O=U.verify(c,"shhhhh"));var f=function(){localStorage.removeItem("sessionID"),sessionStorage.removeItem("sessionID"),a.push("/")},y=function(){var e=Object(u.a)(d.a.mark((function e(){var t,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()({method:"POST",data:{sessionID:c},withCredentials:!0,url:"/profile/role"});case 2:t=e.sent,1===(r=t.data)?m("Customer"):2===r?m("Store Manager"):3===r&&m("Sales Manager");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(u.a)(d.a.mark((function e(){var t,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()({method:"POST",data:{user_id:O.user_id,role_id:O.role_id},withCredentials:!0,url:"/getStoreName"});case 2:t=e.sent,r=t.data[0].store_name,s(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){null==O||3!==O.role_id&&2!==O.role_id||g()}),[]),Object(n.useEffect)((function(){y()}),[]),null===c?Object(x.jsx)(p.a,{children:Object(x.jsx)(p.a.Link,{href:"/login",children:"Login"})}):null==O||3!==O.role_id&&2!==O.role_id?Object(x.jsxs)(p.a,{style:{position:"relative"},children:[Object(x.jsx)("span",{style:{position:"absolute",right:"140px",top:"0.00001px",fontSize:"63%"},children:h}),Object(x.jsx)(p.a.Link,{href:"/profile",children:"Profile"}),Object(x.jsx)(p.a.Link,{onClick:function(){return f()},children:"Logout"})]}):Object(x.jsxs)(p.a,{style:{position:"relative"},children:[Object(x.jsx)("span",{style:{position:"absolute",right:"140px",top:"0.00001px",fontSize:"63%"},children:h}),Object(x.jsx)(p.a.Link,{href:"/store",children:r}),Object(x.jsx)(p.a.Link,{href:"/profile",children:"Profile"}),Object(x.jsx)(p.a.Link,{onClick:function(){return f()},children:"Logout"})]})},X=function(e){var t=e.history,r=Object(n.useState)(""),s=Object(i.a)(r,2),a=s[0],c=s[1],o=function(){var e=Object(u.a)(d.a.mark((function e(r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.preventDefault(),t.push("/search/".concat(a));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(P.a,{onSubmit:function(e){return o(e)},inline:!0,children:[Object(x.jsx)(P.a.Control,{type:"text",name:"q",onChange:function(e){return c(e.target.value)},placeholder:"Search Products...",className:"mr-sm-2 ml-sm-5"}),Object(x.jsx)(f.a,{style:{margin:"1rem"},type:"submit",varient:"outline-success",className:"p-2",children:"Search"})]})},F=function(e){return Object(x.jsxs)(q.a,{collapseOnSelect:!0,expand:"lg",bg:"light",variant:"light",style:{fontSize:"1.3rem"},children:[Object(x.jsx)(q.a.Brand,{href:"/",children:Object(x.jsx)(z,{})}),Object(x.jsx)(q.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(x.jsxs)(q.a.Collapse,{id:"responsive-navbar-nav",children:[Object(x.jsx)(K,{numOfItems:e.numOfItems,setNumOfItems:e.setNumOfItems}),Object(x.jsx)(o.b,{render:function(e){var t=e.history;return Object(x.jsx)(X,{history:t})}}),Object(x.jsx)(W,{})]})]})},H=r(21),V=function(e){var t=e.component,r=localStorage.getItem("sessionID")||sessionStorage.getItem("sessionID");return Object(x.jsx)(o.b,{render:function(){if(null!==r){var e=H.verify(r,"shhhhh");return Object(x.jsx)(t,{user:e})}return Object(x.jsx)(o.a,{to:{pathname:"/login"}})}})},J=function(e){var t=e.component,r=localStorage.getItem("sessionID");return Object(x.jsx)(o.b,{render:function(){return null===r?Object(x.jsx)(t,{}):Object(x.jsx)(o.a,{to:{pathname:"/"}})}})},Q=r(21),Y=function(e){var t=e.component,r=localStorage.getItem("sessionID")||sessionStorage.getItem("sessionID"),n=Q.verify(r,"shhhhh");return Object(x.jsx)(o.b,{render:function(){return 3===n.role_id||2===n.role_id?Object(x.jsx)(t,{}):Object(x.jsx)(o.a,{to:{pathname:"/"}})}})},Z=function(e){var t=s.a.useState(""),r=Object(i.a)(t,2),a=r[0],c=r[1],o=s.a.useState(""),l=Object(i.a)(o,2),j=l[0],p=l[1],h=s.a.useState(""),m=Object(i.a)(h,2),O=m[0],g=m[1],v={name:"",surname:"",email:"",oldemail:"",twofa:!1};Object(n.useEffect)((function(){(function(){var t=Object(u.a)(d.a.mark((function t(){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b()({method:"POST",data:{sessionID:e.sessionID},withCredentials:!0,url:"/profile/user"});case 2:r=t.sent,v.name=r.data.name,v.surname=r.data.surname,v.email=r.data.e_mail;case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()().then((function(){document.getElementById("name").value=v.name,document.getElementById("surname").value=v.surname,document.getElementById("email").value=v.email,c(v.name),p(v.surname),g(v.email)}))}),[]);var w=function(){var t=Object(u.a)(d.a.mark((function t(r){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),r.preventDefault(),v.name=a,v.surname=j,v.email=O,t.next=7,b.a.put("/profile/update",{user:v,sessionID:e.sessionID}).catch((function(e){return console.log("Error in update.js: ".concat(e))}));case 7:t.sent,alert("Your information has been updated."),window.location.reload();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(x.jsx)("div",{children:Object(x.jsx)(y.a,{children:Object(x.jsx)(y.a.Body,{children:Object(x.jsxs)(P.a,{style:{margin:"2rem auto"},children:[Object(x.jsxs)(P.a.Row,{children:[Object(x.jsxs)(P.a.Group,{controlId:"formName",children:[Object(x.jsx)(P.a.Label,{children:"First Name"}),Object(x.jsx)(P.a.Control,{id:"name",type:"name",onChange:function(e){return c(e.target.value)}})]}),Object(x.jsxs)(P.a.Group,{controlId:"formName",children:[Object(x.jsx)(P.a.Label,{children:"Surname"}),Object(x.jsx)(P.a.Control,{id:"surname",type:"surname",onChange:function(e){return p(e.target.value)}})]})]}),Object(x.jsxs)(P.a.Group,{controlId:"formEmail",children:[Object(x.jsx)(P.a.Label,{children:" E-Mail Address: "}),Object(x.jsx)(P.a.Control,{id:"email",type:"email",onChange:function(e){return g(e.target.value)}})]}),Object(x.jsx)(f.a,{variant:"primary",type:"submit",onClick:function(e){return w(e)},children:"Update"})]})})})})},$=(r(331),r(21)),ee=function(){var e=localStorage.getItem("sessionID")||sessionStorage.getItem("sessionID"),t=$.verify(e,"shhhhh"),r=Object(o.g)();return console.log(t),1===t.role_id?Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("nav",{children:[Object(x.jsx)("span",{onClick:function(){return r.push("/profile")},children:"Account"}),Object(x.jsx)("span",{onClick:function(){return r.push("/profile/privacy")},children:"Privacy"}),Object(x.jsx)("span",{onClick:function(){return r.push("/profile/orders")},children:"Orders"}),Object(x.jsx)("span",{onClick:function(){return r.push("/profile/wallet")},children:"Wallet"})]})}):3===t.role_id?Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("nav",{children:[Object(x.jsx)("span",{onClick:function(){return r.push("/profile")},children:"Account"}),Object(x.jsx)("span",{onClick:function(){return r.push("/profile/privacy")},children:"Privacy"}),Object(x.jsx)("span",{onClick:function(){return r.push("/profile/wallet")},children:"Wallet"})]})}):Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("nav",{children:[Object(x.jsx)("span",{onClick:function(){return r.push("/profile")},children:"Account"}),Object(x.jsx)("span",{onClick:function(){return r.push("/profile/privacy")},children:"Privacy"})]})})},te=r(40),re=(r(332),function(e){var t=s.a.useState(e.status),r=Object(i.a)(t,2),n=r[0],a=r[1],c={image:e.image,name:e.item_name,price:e.price,date:e.date,id:e.item_id};return Object(x.jsxs)("div",{className:"ordercard",style:{position:"relative"},children:[Object(x.jsx)("a",{href:"/product/"+c.id,children:Object(x.jsx)("img",{src:c.image,alt:"product",style:{width:"200px"}})}),Object(x.jsxs)("div",{style:{width:"100%",overflow:"auto",position:"relative"},children:[Object(x.jsx)("div",{children:Object(x.jsx)("a",{href:"/product/"+c.id,children:Object(x.jsx)("h5",{style:{textAlign:"center"},children:c.name})})}),Object(x.jsxs)("div",{style:{width:"fit-content",float:"right"},className:"orderInfo",children:[Object(x.jsxs)("p",{children:["Price: ",c.price]}),void 0===e.isStore?Object(x.jsxs)("p",{children:["Status: ",n.charAt(0).toUpperCase()+n.slice(1)]}):Object(x.jsxs)("p",{children:["Status:",Object(x.jsxs)("select",{name:"status",id:"status",style:{marginLeft:"5px"},value:n.charAt(0).toUpperCase()+n.slice(1),onChange:function(t){return function(t){t.target.parentElement.parentElement.parentElement.parentElement.parentElement.children[2].firstChild.removeAttribute("class"),a(t.target.value);for(var r=t.target.parentElement.parentElement.parentElement.firstChild.firstChild.firstChild.innerText.toLowerCase(),n=e.orders,s=0;s<n.length;s++)if(n[s].item_name.toLowerCase()===r){n[s].status=t.target.value.toLowerCase();break}e.setOrders(n)}(t)},children:[Object(x.jsx)("option",{value:"Pending",children:"Pending"}),Object(x.jsx)("option",{value:"Confirmed",children:"Confirmed"}),Object(x.jsx)("option",{value:"In cargo",children:"In cargo"}),Object(x.jsx)("option",{value:"Delivered",children:"Delivered"})]})]})]})]})]})});var ne=function(e){var t,r=s.a.useState(e.orders),n=Object(i.a)(r,2),a=n[0],c=n[1],o=s.a.useState(!1),l=Object(i.a)(o,2),j=(l[0],l[1]),p=0,h=Object(te.a)(a);try{for(h.s();!(t=h.n()).done;){p+=t.value.price}}catch(y){h.e(y)}finally{h.f()}var m,f=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,b()({method:"PUT",data:{orders:a},withCredentials:!0,url:"/store/updateorder"});case 3:"done"===e.sent.data&&alert("Order status has been changed");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)("div",{children:Object(x.jsxs)("div",{style:{width:"60%",margin:"2rem auto",boxShadow:"0px 0px 25px -10px black",borderRadius:"35px",padding:"1rem 0 3rem",position:"relative"},children:[Object(x.jsxs)("h3",{style:{textAlign:"center"},children:["Date: ",e.orders[0].date.split("-")[2]+"/"+e.orders[0].date.split("-")[1]+"/"+e.orders[0].date.split("-")[0]]}),e.orders.map((function(t){return Object(x.jsx)(re,Object(O.a)(Object(O.a)({},t),{},{isStore:e.isStore,orders:a,setOrders:c,setDisabled:j}))})),e.isStore?Object(x.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(x.jsx)("button",{onClick:function(e){return f(e)},style:{padding:"8px 13px",fontSize:"18px",color:"white",background:"blue",borderRadius:"10px",marginTop:"-15px"},children:"Update"})}):null,Object(x.jsxs)("p",{style:{fontSize:"18px",margin:"0",position:"absolute",bottom:"25px",right:"15px"},children:["Total: ",(m=p,-1===(m=String(m)).indexOf(".")?parseInt(m):parseFloat(m.split(".")[0]+"."+m.split(".")[1].slice(0,3)))]})]})})},se=function(){var e=s.a.useState([""]),t=Object(i.a)(e,2),r=t[0],a=t[1];return Object(n.useEffect)((function(){Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()({method:"POST",data:{sessionID:localStorage.getItem("sessionID")||sessionStorage.getItem("sessionID")},withCredentials:!0,url:"/profile/orders"});case 2:t=e.sent,a(t.data);case 4:case"end":return e.stop()}}),e)})))()}),[]),Object(x.jsxs)("div",{style:{margin:"2rem",justifyContent:"center"},children:[Object(x.jsx)(ee,{}),0===r.length?Object(x.jsx)(y.a,{children:Object(x.jsx)(y.a.Body,{children:Object(x.jsx)(y.a.Title,{children:"You have no orders yet. "})})}):""===r[0]?Object(x.jsx)("div",{id:"loading",style:{display:"block"},children:Object(x.jsx)("img",{src:E,alt:"Loading...",style:{display:"block",margin:"0 auto"}})}):Object.keys(r).map((function(e){return Object(x.jsx)(ne,{orders:r[e]})}))]})},ae=function(){var e=s.a.useState(""),t=Object(i.a)(e,2),r=t[0],n=t[1],a=s.a.useState(""),c=Object(i.a)(a,2),o=c[0],l=c[1],j=s.a.useState(""),p=Object(i.a)(j,2),h=p[0],m=p[1],O=localStorage.getItem("sessionID")||sessionStorage.getItem("sessionID"),g=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==r||""!==o){e.next=11;break}if(1!==h&&0!==h){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,b.a.put("/profile/2fa/update",{twofaenable:"Off"==h?0:1,sessionID:O}).catch((function(e){return console.log("Error 2fa.js: ".concat(e))}));case 6:e.sent,alert("2FA is enabled"),window.location.reload(),e.next=33;break;case 11:if(""!==r||""===o){e.next=15;break}alert("Please enter the old Password"),e.next=33;break;case 15:if(""===r||""!==o){e.next=19;break}alert("Please provide a new Password"),e.next=33;break;case 19:return e.next=21,b.a.post("/profile/passwordUpdate",{sessionID:O,oldPassword:r,newPassword:o});case 21:if(!e.sent.data){e.next=32;break}if(alert("Your password has been changed succesfully"),1!==h&&0!==h){e.next=26;break}return e.abrupt("return");case 26:return e.next=28,b.a.put("/profile/2fa/update",{twofaenable:"Off"===h?0:1,sessionID:O}).catch((function(e){return console.log("Error 2fa.js: ".concat(e))}));case 28:e.sent,window.location.reload(),e.next=33;break;case 32:alert("Your old password is wrong");case 33:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{style:{margin:"2rem",justifyContent:"center"},children:[Object(x.jsx)(ee,{}),Object(x.jsx)(y.a,{children:Object(x.jsx)(y.a.Body,{children:Object(x.jsxs)(P.a,{style:{margin:"2rem auto"},onSubmit:function(e){return g(e)},children:[Object(x.jsx)(P.a.Label,{children:"Two Factor Auth"}),Object(x.jsxs)(P.a.Control,{as:"select",defaultValue:"Select",onChange:function(e){return m(e.target.value)},children:[Object(x.jsx)("option",{children:"Select"}),Object(x.jsx)("option",{children:"On"}),Object(x.jsx)("option",{children:"Off"})]}),Object(x.jsxs)(P.a.Group,{controlId:"formBasicPassword",children:[Object(x.jsx)(P.a.Label,{children:"Old Password"}),Object(x.jsx)(P.a.Control,{type:"password",onChange:function(e){return n(e.target.value)}}),Object(x.jsx)(P.a.Label,{children:"New Password"}),Object(x.jsx)(P.a.Control,{type:"password",onChange:function(e){return l(e.target.value)}})]}),Object(x.jsx)(f.a,{variant:"primary",type:"submit",onClick:function(e){return g(e)},children:"Update"})]})})})]})},ce=r(21),ie=function(){var e=s.a.useState(""),t=Object(i.a)(e,2),r=t[0],a=t[1],c=s.a.useState(""),o=Object(i.a)(c,2),l=o[0],j=o[1],p=s.a.useState(""),h=Object(i.a)(p,2),m=h[0],O=h[1],g=localStorage.getItem("sessionID")||sessionStorage.getItem("sessionID"),v=ce.verify(g,"shhhhh");Object(n.useEffect)((function(){Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()({method:"POST",data:{sessionID:g},withCredentials:!0,url:"/payment/walletbalance"});case 2:t=e.sent,a(t.data.address),j(t.data.balance),console.log(t.data);case 6:case"end":return e.stop()}}),e)})))()}),[]);var w=function(){var e=Object(u.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(r=m)>10&&alert("Max token you can get once is 10"),document.getElementById("cont").style.display="none",document.getElementById("loading").style.display="block",e.next=7,b()({method:"POST",data:{input:r,sessionID:g},credentials:"include",withCredentials:!0,url:"/payment/transferFaucet"});case 7:e.sent,document.getElementById("loading").style.display="none",alert("".concat(r,"RKN is added to your account")),window.location.reload();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{style:{margin:"2rem",justifyContent:"center"},children:[Object(x.jsx)(ee,{}),""===r?Object(x.jsx)("div",{id:"loading",style:{display:"block"},children:Object(x.jsx)("img",{src:E,alt:"Loading...",style:{display:"block",margin:"0 auto"}})}):1===v.user_id?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{id:"loading",style:{display:"none"},children:Object(x.jsx)("img",{src:E,alt:"Loading...",style:{display:"block",margin:"0 auto"}})}),": (user.role_id === 1) ?",Object(x.jsx)("div",{id:"loading",style:{display:"none"},children:Object(x.jsx)("img",{src:E,alt:"Loading...",style:{display:"block",margin:"0 auto"}})}),Object(x.jsx)("div",{id:"cont",children:Object(x.jsx)(y.a,{children:Object(x.jsxs)(y.a.Body,{children:[Object(x.jsxs)(y.a.Title,{children:["Wallet address: ",r,"  "]}),Object(x.jsxs)(y.a.Title,{children:["Balance: ",l," RKN "]}),Object(x.jsxs)(P.a,{style:{margin:"3em auto",position:"relative"},children:[Object(x.jsxs)(P.a.Group,{controlId:"formBasicPassword",onChange:function(e){return O(e.target.value)},children:[Object(x.jsx)(P.a.Label,{children:"Send Me RKN"}),Object(x.jsx)(P.a.Control,{type:"number",max:"10"})]}),Object(x.jsx)("span",{style:{fontSize:"16px",position:"absolute",right:"0",color:"red",display:"none"},className:"InvalidCode",children:"Code is invalid"}),Object(x.jsx)("div",{style:{display:"flex"},children:Object(x.jsx)(f.a,{variant:"primary",style:{margin:"3em auto"},type:"submit",onClick:function(e){return w(e)},children:"Send"})})]})]})})})]}):Object(x.jsx)("div",{id:"cont",children:Object(x.jsx)(y.a,{children:Object(x.jsxs)(y.a.Body,{children:[Object(x.jsxs)(y.a.Title,{children:["Wallet address: ",r,"  "]}),Object(x.jsxs)(y.a.Title,{children:["Balance: ",l," RKN "]})]})})})]})},oe=function(){var e=localStorage.getItem("sessionID")||sessionStorage.getItem("sessionID");return Object(x.jsxs)("div",{style:{margin:"2rem",justifyContent:"center"},children:[Object(x.jsx)(ee,{}),Object(x.jsx)(Z,{sessionID:e})]})},le=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),r=t[0],s=t[1],a=Object(o.g)(),c=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORT,function(){var e=Object(u.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==r){e.next=4;break}return alert("Enter your email!"),e.abrupt("return");case 4:return e.next=6,b()({method:"POST",data:{email:r},withCredentials:!0,url:"/forgot"}).catch((function(e){return console.log("err: ".concat(e))}));case 6:if(void 0!==(n=e.sent)&&"sent"===n.data&&(alert("Email is sent to ".concat(r)),a.push("/")),void 0!==n&&"NoUser"!==n.data){e.next=12;break}return alert("There is no user with that email"),s(""),e.abrupt("return");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(x.jsx)("div",{style:{fontSize:"25px"},children:Object(x.jsxs)(P.a,{style:{margin:"0 auto"},children:[Object(x.jsxs)(P.a,{controlId:"formBasicEmail",children:[Object(x.jsx)(P.a.Label,{children:"Email address"}),Object(x.jsx)(P.a.Control,{type:"email",placeholder:"Enter email",onChange:function(e){return s(e.target.value)}}),Object(x.jsx)(P.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(x.jsx)(f.a,{variant:"primary",type:"submit",onClick:function(e){return c(e)},children:"Reset"})]})})},de=function(){var e=Object(o.h)().token,t=Object(n.useState)(""),r=Object(i.a)(t,2),s=r[0],a=r[1],c=Object(o.g)(),l=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORT,"/reset/".concat(e)),j=function(){var e=Object(u.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,b.a.post(l,{password:s}).catch((function(e){return console.log("Error in reset.js: ".concat(e))}));case 3:"TokenInvalid"===(r=e.sent).data?(alert("Invalid Token"),c.push("/login")):r.data&&(alert("Your password has been changed"),c.push("/login"));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(P.a,{style:{margin:"3em auto"},children:[Object(x.jsxs)(P.a.Group,{controlId:"formBasicPassword",children:[Object(x.jsx)(P.a.Label,{children:"New Password"}),Object(x.jsx)(P.a.Control,{type:"password",placeholder:"Password",onChange:function(e){return a(e.target.value)}})]}),Object(x.jsx)(f.a,{variant:"primary",type:"submit",onClick:function(e){return j(e)},children:"Submit"})]})},ue=function(){var e=Object(o.h)().token,t=Object(o.g)(),r=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORT,"/activate/".concat(e)),n=function(){var e=Object(u.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,b.a.post(r).catch((function(e){return console.log("Error in activate.js: ".concat(e))}));case 3:"NoUser"===e.sent.data&&alert("Invalid Token"),t.push("/login");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)("div",{style:{display:"flex"},children:Object(x.jsx)(f.a,{variant:"primary",style:{margin:"3em auto"},type:"submit",onClick:function(e){return n(e)},children:"Activate"})})},je=r(340),be=r(342),pe=(r(333),function(e){var t=function(){var t=Object(u.a)(d.a.mark((function t(r){var n,s,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),n=e.comment.rating_id,s=parseInt(r.target.value),t.next=5,b()({method:"PUT",data:{rating_id:n,accept:s},withCredentials:!0,url:"/verifyComment"});case 5:"verified"===t.sent.data?alert("Comment has been verified"):alert("Comment has been rejected"),(a=r.target.parentElement.parentElement).parentElement.removeChild(a);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(x.jsx)("div",{style:{display:"flex"},children:Object(x.jsxs)("div",{style:{margin:"2rem auto",padding:"1rem",width:"80%",boxShadow:"10px 10px 10px grey"},children:[Object(x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1rem"},children:[Object(x.jsx)("span",{style:{maxWidth:"80%",fontSize:"1.3em"},children:e.comment.comment}),Object(x.jsx)("span",{style:{width:"16%"},children:Object(x.jsx)(w,{rate:Math.floor(e.comment.rate)})})]}),Object(x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(x.jsxs)("span",{style:{maxWidth:"80%",fontStyle:"italic"},children:["by ","".concat(e.comment.name," ").concat(e.comment.surname)]}),Object(x.jsxs)("span",{style:{width:"12.6%"},children:["on ",e.comment.date]})]}),e.isVerifyPage?Object(x.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"1rem"},className:"buttonDiv",children:[Object(x.jsx)("button",{onClick:function(e){return t(e)},value:"1",children:"Accept"}),Object(x.jsx)("button",{onClick:function(e){return t(e)},value:"0",children:"Reject"})]}):null]})})}),xe=function(e){var t=s.a.useState(""),r=Object(i.a)(t,2),n=r[0],a=r[1],c=s.a.useState(0),o=Object(i.a)(c,2),l=o[0],j=o[1],p=(localStorage.getItem("sessionID")||sessionStorage.getItem("sessionID"),function(){var t=Object(u.a)(d.a.mark((function t(r){var s,a,c,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),0!==n.length){t.next=4;break}return alert("Please add a comment"),t.abrupt("return");case 4:if(0!==l){t.next=7;break}return alert("Please choose a rate"),t.abrupt("return");case 7:return s=new Date,a=s.getMonth()+1<10?"0"+String(s.getMonth()+1):String(s.getMonth()+1),c=s.getDate()<10?"0"+String(s.getDate()):String(s.getDate()),i="".concat(String(s.getFullYear()),"-").concat(a,"-").concat(c),t.next=13,b()({method:"POST",data:{data:{user_id:e.user.user_id,date:i,comment:n,rate:l,productID:parseInt(e.productID)}},withCredentials:!0,url:"/addComment"});case 13:"done"===t.sent.data&&(alert("Your comment has been added. Its on approvement process"),window.location.reload());case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return Object(x.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object(x.jsxs)("div",{style:{margin:"2em auto",display:"inline-flex",flexDirection:"column",fontSize:"1.3rem",width:"430px",position:"relative"},id:"add",children:[Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center"},id:"rate",children:[Object(x.jsx)("span",{children:"Rate:"}),Object(x.jsx)(w,{rate:0,setRate:j,addComment:!0,id:"rate"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"Comment:"}),Object(x.jsx)("textarea",{rows:"5",cols:"22",onChange:function(e){return a(e.target.value)},id:"comment"})]}),Object(x.jsx)("div",{style:{display:"flex",marginTop:"1rem"},children:Object(x.jsx)("input",{type:"submit",value:"Add Comment",style:{margin:"0 auto",width:"initial",background:"black",color:"white",padding:"0.5rem",borderRadius:"7px"},onClick:function(e){return p(e)}})})]})})},he=r(21),me=function(){var e,t=Object(n.useState)([]),r=Object(i.a)(t,2),s=r[0],a=r[1],c=Object(n.useState)([""]),l=Object(i.a)(c,2),j=l[0],p=l[1],h=Object(o.h)().id,m=localStorage.getItem("sessionID")||sessionStorage.getItem("sessionID");null!==m&&(e=he.verify(m,"shhhhh"));var O=function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()({method:"GET",withCredentials:!0,url:"/product/".concat(h)});case 2:t=e.sent,a(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()({method:"POST",withCredentials:!0,url:"/getComments/".concat(h)});case 2:t=e.sent,p(t.data),console.log(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){O()}),[]),Object(n.useEffect)((function(){f()}),[s]),Object(x.jsxs)("div",{children:[Object(x.jsx)(g.b,{className:"btn btn-light my-3",to:"/",children:"Go Back"}),Object(x.jsxs)(k.a,{style:{margin:"2rem"},children:[Object(x.jsx)(A.a,{md:6,children:Object(x.jsx)(je.a,{src:s.image,alt:s.item_name,style:{position:"relative",maxWidth:"100%",height:"auto"}})}),Object(x.jsx)(A.a,{md:3,children:Object(x.jsxs)(be.a,{variant:"flush",children:[Object(x.jsxs)(be.a.Item,{children:[Object(x.jsx)("h3",{children:s.item_name})," "]}),Object(x.jsxs)(be.a.Item,{children:["Price: $",s.price," "]}),Object(x.jsxs)(be.a.Item,{children:["Description: ",s.description," "]})]})}),Object(x.jsx)(A.a,{md:3,children:Object(x.jsx)(y.a,{style:{margin:"2rem"},children:Object(x.jsxs)(be.a,{variant:"flush",children:[Object(x.jsx)(be.a.Item,{children:Object(x.jsxs)(k.a,{children:[Object(x.jsx)(A.a,{children:"Price: "}),Object(x.jsx)(A.a,{children:Object(x.jsxs)("srong",{children:[" $ ",s.price," "]})})]})}),Object(x.jsx)(be.a.Item,{children:Object(x.jsxs)(k.a,{children:[Object(x.jsx)(A.a,{children:"Status: "}),Object(x.jsxs)(A.a,{children:[" ",Object(x.jsxs)("srong",{children:[" ",s.countInStock>0?"In Stock":"Out Of Stock"," "]})," "]})]})}),Object(x.jsx)(be.a.Item,{})]})})})]}),Object(x.jsxs)("div",{style:{marginBottom:"2rem"},children:[Object(x.jsx)("h3",{style:{textAlign:"center"},children:"Comments"}),""===j[0]?Object(x.jsx)("div",{id:"loading",style:{display:"block"},children:Object(x.jsx)("img",{src:E,alt:"Loading...",style:{display:"block",margin:"0 auto"}})}):0===j.length?Object(x.jsx)("p",{style:{textAlign:"center"},children:"No comments"}):j.map((function(e){return Object(x.jsx)(pe,{comment:e})}))]}),e&&1===e.role_id?Object(x.jsxs)("div",{style:{marginBottom:"5rem"},children:[Object(x.jsx)("h3",{style:{textAlign:"center"},children:"Add Comment"}),Object(x.jsx)(xe,{productID:h,user:e})]}):null]})},Oe=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),r=t[0],s=t[1],a=Object(n.useState)(""),c=Object(i.a)(a,2),l=c[0],j=c[1],h=Object(n.useState)(""),m=Object(i.a)(h,2),O=m[0],y=m[1],g=Object(n.useState)(""),v=Object(i.a)(g,2),w=v[0],S=v[1],C=Object(n.useState)(""),I=Object(i.a)(C,2),T=I[0],E=I[1],N=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORT,Object(o.g)()),D=function(){var e=Object(u.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),document.querySelector("#formBasicPassword").value===document.querySelector("#formBasicPassword2").value){e.next=7;break}return document.querySelector("#doesNotMatch").style.display="flex",setTimeout((function(){document.querySelector("#doesNotMatch").style.display="none"}),3e3),e.abrupt("return");case 7:if(!(document.querySelector("#formBasicPassword").value.length<6)){e.next=13;break}return document.querySelector("#min6Char").style.display="flex",setTimeout((function(){document.querySelector("#min6Char").style.display="none"}),3e3),e.abrupt("return");case 13:if(!(document.querySelector("#firstName").value.length<3||document.querySelector("#lastName").value.length<3)){e.next=19;break}return document.querySelector("#nameError").style.display="flex",setTimeout((function(){document.querySelector("#nameError").style.display="none"}),3e3),e.abrupt("return");case 19:if(!(document.querySelector("#storeName").value.length<3)){e.next=23;break}return document.querySelector("#storeNameError").style.display="flex",setTimeout((function(){document.querySelector("#storeNameError").style.display="none"}),3e3),e.abrupt("return");case 23:return document.querySelector("#submit").disabled=!0,document.querySelectorAll("input").forEach((function(e){return e.disabled=!0})),e.next=27,b()({method:"POST",data:{username:r,password:l,name:O,surname:w,storeName:T},withCredentials:!0,url:"/store_register"});case 27:"exists"===(n=e.sent).data.res?(document.querySelector("#exists").style.display="flex",document.querySelector("#submit").disabled=!1,document.querySelectorAll("input").forEach((function(e){return e.disabled=!1})),setTimeout((function(){document.querySelector("#exists").style.display="none"}),3e3)):n.data&&(document.querySelector("#success").style.display="flex",setTimeout((function(){document.querySelector("#success").style.display="none",N.push("/login")}),3e3));case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)("div",{style:{marginTop:"2rem"},children:Object(x.jsxs)("div",{className:"form_container",style:{width:"590px",margin:"0 auto",fontSize:"2em",position:"relative"},children:[Object(x.jsxs)("div",{style:{display:"none",position:"absolute",overflow:"auto",width:"450px",boxShadow:"0 0 15px grey",background:"white",top:"-90px",borderRadius:"10px"},id:"exists",children:[Object(x.jsx)("img",{src:R,alt:"error",style:{width:"70px",float:"left"}}),Object(x.jsxs)("div",{style:{flexGrow:"1",marginTop:"3px"},children:[Object(x.jsx)("span",{style:{fontSize:"20px"},children:"User already exists"}),Object(x.jsx)("div",{className:"progress-bar-error",children:Object(x.jsx)("span",{className:"progress-bar-inner"})})]})]}),Object(x.jsxs)("div",{style:{display:"none",padding:"10px",position:"absolute",overflow:"auto",width:"450px",boxShadow:"0 0 15px grey",background:"white",top:"-90px",borderRadius:"10px"},id:"success",children:[Object(x.jsx)("img",{src:B,alt:"success",style:{width:"70px",float:"left"}}),Object(x.jsxs)("div",{style:{flexGrow:"1",marginTop:"3px",marginLeft:"10px",lineHeight:"0.9"},children:[Object(x.jsxs)("span",{style:{fontSize:"20px"},children:["An email has been sent to ",r," for activation"]}),Object(x.jsx)("div",{className:"progress-bar-success",children:Object(x.jsx)("span",{className:"progress-bar-inner"})})]})]}),Object(x.jsxs)("div",{style:{display:"none",position:"absolute",overflow:"auto",width:"450px",boxShadow:"0 0 15px grey",background:"white",top:"-90px",borderRadius:"10px"},id:"doesNotMatch",children:[Object(x.jsx)("img",{src:R,alt:"error",style:{width:"70px",float:"left"}}),Object(x.jsxs)("div",{style:{flexGrow:"1",marginTop:"3px"},children:[Object(x.jsx)("span",{style:{fontSize:"20px"},children:"Passwords does not match"}),Object(x.jsx)("div",{className:"progress-bar-error",children:Object(x.jsx)("span",{className:"progress-bar-inner"})})]})]}),Object(x.jsxs)("div",{style:{display:"none",position:"absolute",overflow:"auto",width:"450px",boxShadow:"0 0 15px grey",background:"white",top:"-90px",borderRadius:"10px"},id:"min6Char",children:[Object(x.jsx)("img",{src:R,alt:"error",style:{width:"70px",float:"left"}}),Object(x.jsxs)("div",{style:{flexGrow:"1",marginTop:"3px"},children:[Object(x.jsx)("span",{style:{fontSize:"17px"},children:"Password should be minimum 6 characters"}),Object(x.jsx)("div",{className:"progress-bar-error",children:Object(x.jsx)("span",{className:"progress-bar-inner"})})]})]}),Object(x.jsxs)("div",{style:{display:"none",position:"absolute",overflow:"auto",width:"450px",boxShadow:"0 0 15px grey",background:"white",top:"-90px",borderRadius:"10px"},id:"nameError",children:[Object(x.jsx)("img",{src:R,alt:"error",style:{width:"70px",float:"left"}}),Object(x.jsxs)("div",{style:{flexGrow:"1",marginTop:"3px"},children:[Object(x.jsx)("span",{style:{fontSize:"17px"},children:"Your name or surname can not be empty"}),Object(x.jsx)("div",{className:"progress-bar-error",children:Object(x.jsx)("span",{className:"progress-bar-inner"})})]})]}),Object(x.jsxs)("div",{style:{display:"none",position:"absolute",overflow:"auto",width:"450px",boxShadow:"0 0 15px grey",background:"white",top:"-90px",borderRadius:"10px"},id:"storeNameError",children:[Object(x.jsx)("img",{src:R,alt:"error",style:{width:"70px",float:"left"}}),Object(x.jsxs)("div",{style:{flexGrow:"1",marginTop:"3px"},children:[Object(x.jsx)("span",{style:{fontSize:"18px"},children:"Type your store's name"}),Object(x.jsx)("div",{className:"progress-bar-error",children:Object(x.jsx)("span",{className:"progress-bar-inner"})})]})]}),Object(x.jsx)("div",{style:{marginBottom:"1em",width:"100%",borderBottom:"1px solid grey"},children:Object(x.jsxs)(p.a,{style:{display:"flex",width:"100%"},children:[Object(x.jsx)(p.a.Link,{style:{borderRight:"1px solid grey",flex:"1",textAlign:"center"},href:"/login",children:"LOGIN"}),Object(x.jsx)(p.a.Link,{eventKey:2,href:"/register",style:{flex:"1",textAlign:"center",background:"rgb(225,225,225)"},children:"SIGN UP"})]})}),Object(x.jsxs)(P.a,{style:{margin:"0 auto",width:"500px"},children:[Object(x.jsxs)(P.a.Group,{controlId:"formBasicEmail",style:{position:"relative"},children:[Object(x.jsx)(P.a.Label,{children:"Email:"}),Object(x.jsx)(P.a.Control,{type:"email",placeholder:"Enter email",onChange:function(e){return s(e.target.value)},style:{width:"332px",border:"1px solid grey"}}),Object(x.jsx)("span",{style:{color:"darkgrey",fontSize:"14px",position:"absolute",bottom:"-15px",right:"-2px"},children:"We'll never share your email with anyone else."})]}),Object(x.jsxs)(P.a.Group,{controlId:"formBasicPassword",children:[Object(x.jsx)(P.a.Label,{children:"Password"}),Object(x.jsx)(P.a.Control,{type:"password",placeholder:"Password",onChange:function(e){return j(e.target.value)},style:{width:"332px",border:"1px solid grey"}})]}),Object(x.jsxs)(P.a.Group,{controlId:"formBasicPassword2",children:[Object(x.jsx)(P.a.Label,{children:"Password(*)"}),Object(x.jsx)(P.a.Control,{type:"password",placeholder:"Password",style:{width:"332px",border:"1px solid grey"}})]}),Object(x.jsxs)(k.a,{style:{width:"430px",marginLeft:"auto",display:"flex",justifyContent:"space-between",position:"relative"},children:[Object(x.jsx)(A.a,{children:Object(x.jsx)(P.a.Control,{placeholder:"First name",onChange:function(e){return y(e.target.value)},style:{border:"1px solid grey"},id:"firstName"})}),Object(x.jsx)(A.a,{children:Object(x.jsx)(P.a.Control,{placeholder:"Last name",onChange:function(e){return S(e.target.value)},style:{border:"1px solid grey"},id:"lastName"})})]}),Object(x.jsxs)(k.a,{style:{position:"relative",display:"flex",justifyContent:"flex-end"},children:[Object(x.jsx)(P.a.Group,{controlId:"storeName",style:{marginRight:"15px"},children:Object(x.jsx)(P.a.Control,{type:"text",placeholder:"Store Name",style:{width:"332px",border:"1px solid grey"},onChange:function(e){return E(e.target.value)}})}),Object(x.jsx)(p.a,{style:{fontSize:"16px",position:"absolute",right:"0px",bottom:"-40px",textDecoration:"underline"},children:Object(x.jsx)(p.a.Link,{href:"/register",children:"Want to create an customer account?"})})]}),Object(x.jsx)("div",{children:Object(x.jsx)(f.a,{variant:"primary",type:"submit",onClick:function(e){return D(e)},style:{marginTop:"20px"},id:"submit",children:"Submit"})})]})]})})},fe=function(e){var t=Object(n.useState)([]),r=Object(i.a)(t,2),s=r[0],a=r[1],c=Object(o.h)().name,l=function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()({method:"GET",withCredentials:!0,url:"/category/".concat(c)});case 2:t=e.sent,a(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){l()}),[]),Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{style:{textAlign:"center",margin:"1rem"},children:"Welcome to Rakoon E-Commerce!"}),Object(x.jsx)(I.a,{children:Object(x.jsx)(k.a,{children:s.map((function(t){return Object(x.jsx)(A.a,{sm:12,md:6,lg:4,xl:3,children:Object(x.jsx)(C,Object(O.a)(Object(O.a)({id:t.item_id},t),{},{numOfItems:e.numOfItems,setNumOfItems:e.setNumOfItems}),t.item_id)})}))})})]})},ye=function(e){var t=Object(n.useState)([]),r=Object(i.a)(t,2),s=r[0],a=r[1],c=Object(o.h)().keyword,l=function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()({method:"POST",withCredentials:!0,url:"/search/".concat(c)});case 2:t=e.sent,a(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){l()}),[]),Object(x.jsx)("div",{children:Object(x.jsx)(I.a,{children:Object(x.jsx)(k.a,{children:s.map((function(t){return Object(x.jsxs)(A.a,{sm:12,md:6,lg:4,xl:3,children:[Object(x.jsx)(C,Object(O.a)(Object(O.a)({},t),{},{isRemovable:!1,numOfItems:e.numOfItems,setNumOfItems:e.setNumOfItems}),t.item_id),";"]})}))})})})},ge=(r(113),function(e){var t=Object(o.g)();return 3===e.user.role_id?Object(x.jsxs)("div",{style:{marginBottom:"1rem"},id:"nav",children:[Object(x.jsx)("span",{onClick:function(){return t.push("/store")},children:"Store Info"}),Object(x.jsx)("span",{onClick:function(){return t.push("/store/addproduct")},children:"Add Product"}),Object(x.jsx)("span",{onClick:function(){return t.push("/store/products")},children:"Products"}),Object(x.jsx)("span",{onClick:function(){return t.push("/store/addsalesmanager")},children:"Add Sales Manager"}),Object(x.jsx)("span",{onClick:function(){return t.push("/store/comments")},style:{border:"none"},children:"Comments"})]}):Object(x.jsxs)("div",{style:{marginBottom:"1rem"},id:"nav",children:[Object(x.jsx)("span",{onClick:function(){return t.push("/store")},children:"Store Info"}),Object(x.jsx)("span",{onClick:function(){return t.push("/store/products")},children:"Products"}),Object(x.jsx)("span",{onClick:function(){return t.push("/store/campaigns")},children:"Campaigns"}),Object(x.jsx)("span",{onClick:function(){return t.push("/store/orders")},style:{border:"none"},children:"Orders"})]})}),ve=r(21),we=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),r=t[0],s=t[1],a=Object(n.useState)([""]),c=Object(i.a)(a,2),o=c[0],l=c[1],j=localStorage.getItem("sessionID")||sessionStorage.getItem("sessionID"),p=ve.verify(j,"shhhhh"),h=function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()({method:"POST",data:{user_id:p.user_id,role_id:p.role_id},withCredentials:!0,url:"/getStoreInfo"});case 2:t=e.sent,s(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()({method:"POST",data:{user_id:p.user_id,role_id:p.role_id},withCredentials:!0,url:"/getSalesManagers"});case 2:t=e.sent,l(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){h(),m()}),[]),Object(x.jsxs)("div",{style:{margin:"2em"},children:[Object(x.jsx)(ge,{user:p}),Object(x.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"2rem"},children:""===o[0]||""===r?Object(x.jsx)("div",{id:"loading",style:{display:"block"},children:Object(x.jsx)("img",{src:E,alt:"Loading...",style:{display:"block",margin:"0 auto"}})}):Object(x.jsxs)("div",{style:{width:"400px"},children:[Object(x.jsx)("h3",{style:{textAlign:"center"},children:"Store Info"}),Object(x.jsxs)("table",{style:{width:"400px",fontSize:"20px"},children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Store Name:"}),Object(x.jsx)("td",{children:r.store_name})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Owner:"}),Object(x.jsx)("td",{children:r.owner})]}),Object(x.jsx)("tr",{children:Object(x.jsx)("th",{rowSpan:void 0!==r.items?r.categories.length+1:1,children:"Products:"})}),void 0!==r.categories?r.categories.map((function(e){return Object(x.jsx)("tr",{children:Object(x.jsxs)("td",{children:[e[0]," : ",e[1]]})})})):"loading",Object(x.jsx)("tr",{children:Object(x.jsx)("th",{rowSpan:0!==o.length?o.length+1:2,style:{borderBottom:"hidden"},children:"Sales Managers:"})}),0!==o.length?o.map((function(e){return Object(x.jsx)("tr",{children:Object(x.jsxs)("td",{style:{borderBottom:"hidden"},children:[e.name," ",e.surname]})})})):Object(x.jsx)("tr",{children:Object(x.jsx)("td",{style:{borderBottom:"hidden"},children:"No Sales Managers Assigned"})})]})]})})]})},Se=r(21),Ce=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),r=t[0],s=t[1],a=Object(n.useState)(""),c=Object(i.a)(a,2),o=c[0],l=c[1],j=Object(n.useState)(),p=Object(i.a)(j,2),h=p[0],m=p[1],O=Object(n.useState)(""),f=Object(i.a)(O,2),y=f[0],g=f[1],v=Object(n.useState)(),w=Object(i.a)(v,2),S=w[0],C=w[1],I=Object(n.useState)(),k=Object(i.a)(I,2),A=k[0],T=k[1],E=Object(n.useState)([]),N=Object(i.a)(E,2),D=N[0],P=N[1],B=localStorage.getItem("sessionID")||sessionStorage.getItem("sessionID"),L=Se.verify(B,"shhhhh"),q=function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()({method:"GET",withCredentials:!0,url:"/categories"});case 2:t=e.sent,P(t.data),void 0!==D[0]&&T("");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){q()}),[]);var z=function(){var e=Object(u.a)(d.a.mark((function e(t){var n,s,a,c,i,l,u,j,p,x,m,O,f,g,v,w,C;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t.preventDefault(),n=[],s=0,a=["#name","#description","#price","#category","#count","#brand"];s<a.length;s++)c=a[s],""===document.querySelector(c).value&&n.push(c);if(0===n.length){e.next=10;break}i=Object(te.a)(n);try{for(i.s();!(l=i.n()).done;)u=l.value,document.querySelector(u).style.border="3px solid red"}catch(d){i.e(d)}finally{i.f()}return document.querySelector("#emptyError").style.display="flex",setTimeout((function(){return document.querySelector("#emptyError").style.display="none"}),3e3),e.abrupt("return");case 10:if(j=new RegExp("[+-]?([0-9]*[.])?[0-9]+"),(p=j.exec(String(h))).input===p[0]){e.next=16;break}return document.querySelector("#priceErr").style.display="flex",setTimeout((function(){return document.querySelector("#priceErr").style.display="none"}),3e3),e.abrupt("return");case 16:if(x="https://api.cloudinary.com/v1_1/rakoon/image/upload",!((m=document.querySelector("[type=file]").files).length>1)){e.next=22;break}return document.querySelector("#selectOnlyOneErr").style.display="flex",setTimeout((function(){return document.querySelector("#selectOnlyOneErr").style.display="none"}),3e3),e.abrupt("return");case 22:if(null!==(O=1===m.length?document.querySelector("[type=file]").files[0]:null)){e.next=27;break}return document.querySelector("#selectImgErr").style.display="flex",setTimeout((function(){return document.querySelector("#selectImgErr").style.display="none"}),3e3),e.abrupt("return");case 27:return(f=new FormData).append("file",O),f.append("upload_preset","ml_default"),(g=new XMLHttpRequest).open("POST",x,!1),g.send(f),v=JSON.parse(g.responseText),w=v.url,C={user_id:L.user_id,name:r,description:o,price:h,brand:y,count:S,category:A,image:w},e.next=39,b()({method:"POST",data:{item:C},withCredentials:!0,url:"/addProduct"});case 39:"done"===e.sent.data&&alert("Product is added");case 41:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{style:{margin:"2em",display:"flex",flexDirection:"column"},children:[Object(x.jsx)(ge,{user:L}),Object(x.jsx)("h3",{style:{textAlign:"center"},children:"Add Product"}),Object(x.jsxs)("div",{style:{margin:"2em auto",display:"inline-flex",flexDirection:"column",fontSize:"1.3rem",width:"430px",position:"relative"},id:"add",children:[Object(x.jsxs)("div",{style:{display:"none",position:"absolute",overflow:"auto",width:"550px",boxShadow:"0 0 15px grey",background:"white",top:"-90px",borderRadius:"10px"},id:"emptyError",children:[Object(x.jsx)("img",{src:R,alt:"error",style:{width:"70px",float:"left"}}),Object(x.jsxs)("div",{style:{flexGrow:"1",marginTop:"8px"},children:[Object(x.jsx)("span",{style:{fontSize:"20px"},children:"One of the following inputs can not be empty"}),Object(x.jsx)("div",{className:"progress-bar-error",children:Object(x.jsx)("span",{className:"progress-bar-inner"})})]})]}),Object(x.jsxs)("div",{style:{display:"none",position:"absolute",overflow:"auto",width:"450px",boxShadow:"0 0 15px grey",background:"white",top:"-90px",borderRadius:"10px"},id:"selectOnlyOneErr",children:[Object(x.jsx)("img",{src:R,alt:"error",style:{width:"70px",float:"left"}}),Object(x.jsxs)("div",{style:{flexGrow:"1",marginTop:"8px"},children:[Object(x.jsx)("span",{style:{fontSize:"20px"},children:"Select only one image"}),Object(x.jsx)("div",{className:"progress-bar-error",children:Object(x.jsx)("span",{className:"progress-bar-inner"})})]})]}),Object(x.jsxs)("div",{style:{display:"none",position:"absolute",overflow:"auto",width:"450px",boxShadow:"0 0 15px grey",background:"white",top:"-90px",borderRadius:"10px"},id:"selectImgErr",children:[Object(x.jsx)("img",{src:R,alt:"error",style:{width:"70px",float:"left"}}),Object(x.jsxs)("div",{style:{flexGrow:"1",marginTop:"8px"},children:[Object(x.jsx)("span",{style:{fontSize:"20px"},children:"Select an image"}),Object(x.jsx)("div",{className:"progress-bar-error",children:Object(x.jsx)("span",{className:"progress-bar-inner"})})]})]}),Object(x.jsxs)("div",{style:{display:"none",position:"absolute",overflow:"auto",width:"450px",boxShadow:"0 0 15px grey",background:"white",top:"-90px",borderRadius:"10px"},id:"priceErr",children:[Object(x.jsx)("img",{src:R,alt:"error",style:{width:"70px",float:"left"}}),Object(x.jsxs)("div",{style:{flexGrow:"1",marginTop:"8px"},children:[Object(x.jsx)("span",{style:{fontSize:"20px"},children:"Enter valid price"}),Object(x.jsx)("div",{className:"progress-bar-error",children:Object(x.jsx)("span",{className:"progress-bar-inner"})})]})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"Name:"}),Object(x.jsx)("input",{type:"text",onChange:function(e){return s(e.target.value)},id:"name"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"Description:"}),Object(x.jsx)("textarea",{rows:"5",cols:"23",onChange:function(e){return l(e.target.value)},id:"description"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"Price:"}),Object(x.jsx)("input",{type:"text",onChange:function(e){return m(e.target.value)},id:"price"})]}),Object(x.jsxs)("div",{style:{position:"relative"},children:[Object(x.jsx)("label",{children:"Image:"}),Object(x.jsx)("input",{name:"file",type:"file",style:{position:"absolute",right:"0"}})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"Category"}),Object(x.jsxs)("select",{name:"categories",id:"category",onChange:function(e){return T(e.target.value)},children:[Object(x.jsx)("option",{value:"",selected:!0}),D.map((function(e){var t=e.category;return Object(x.jsx)("option",{value:e.category,children:t[0]+t.slice(1)})}))]})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"Count"}),Object(x.jsx)("input",{type:"number",min:"1",onChange:function(e){return C(e.target.value)},id:"count"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"Brand"}),Object(x.jsx)("input",{type:"text",onChange:function(e){return g(e.target.value)},id:"brand"})]}),Object(x.jsx)("div",{style:{display:"flex",marginTop:"1rem"},children:Object(x.jsx)("input",{type:"submit",value:"Add Item",style:{margin:"0 auto",width:"initial",background:"black",color:"white",padding:"0.5rem",borderRadius:"7px"},onClick:function(e){return z(e)}})})]})]})},Ie=function(e){var t=Object(o.g)(),r={id:e.item_id,name:e.item_name,text:e.description,img:e.image,price:e.price};return Object(x.jsxs)(y.a,{className:"my-3 p-3 rounded",style:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden"},children:[Object(x.jsx)(g.b,{to:"/product/".concat(r.id),children:Object(x.jsx)(y.a.Img,{src:r.img,variant:"top",style:{flexShrink:"0",minWidth:"100%",minHeight:"100%"}})}),Object(x.jsx)(g.b,{to:"/product/".concat(r.id),children:Object(x.jsx)(y.a.Title,{as:"div",children:Object(x.jsx)("strong",{children:r.name})})}),Object(x.jsxs)(y.a.Body,{children:[Object(x.jsxs)(y.a.Text,{as:"h5",children:["$",r.price]}),3===e.role_id?Object(x.jsx)(f.a,{variant:"success",children:Object(x.jsx)("span",{onClick:function(){return t.push("/store/products/".concat(r.id))},children:"Edit"})}):null]})]})},ke=r(21),Ae=function(){var e=Object(n.useState)([""]),t=Object(i.a)(e,2),r=t[0],s=t[1],a=localStorage.getItem("sessionID")||sessionStorage.getItem("sessionID"),c=ke.verify(a,"shhhhh"),o=function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()({method:"POST",data:{user_id:c.user_id,role_id:c.role_id},withCredentials:!0,url:"/getStoreItems"});case 2:t=e.sent,s(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){o()}),[]),""===r[0]?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ge,{user:c}),Object(x.jsx)("div",{id:"loading",style:{display:"block"},children:Object(x.jsx)("img",{src:E,alt:"Loading...",style:{display:"block",margin:"0 auto"}})})]}):0!==r.length?Object(x.jsxs)("div",{style:{margin:"2em"},children:[Object(x.jsx)(ge,{user:c}),Object(x.jsx)("div",{children:Object(x.jsx)(I.a,{children:Object(x.jsx)(k.a,{children:r.map((function(e){return Object(x.jsx)(A.a,{sm:12,md:6,lg:4,xl:3,children:Object(x.jsx)(Ie,Object(O.a)(Object(O.a)({id:e.item_id},e),{},{role_id:c.role_id}),e.item_id)})}))})})})]}):Object(x.jsxs)("div",{children:[Object(x.jsx)(ge,{user:c}),Object(x.jsx)("p",{style:{textAlign:"center"},children:"You have no products in your store"})]})},Te=r(67),Ee=r(21),Ne=function(){var e,t=Object(o.h)().item_id,r=Object(n.useState)([]),s=Object(i.a)(r,2),a=s[0],c=s[1],l=Object(n.useState)([]),j=Object(i.a)(l,2),p=j[0],h=j[1],m=Object(n.useState)(""),O=Object(i.a)(m,2),f=O[0],g=O[1],v=Object(n.useState)(""),w=Object(i.a)(v,2),S=w[0],C=w[1],I=Object(n.useState)(),T=Object(i.a)(I,2),E=T[0],N=T[1],D=Object(n.useState)(""),P=Object(i.a)(D,2),B=P[0],L=P[1],q=Object(n.useState)(),z=Object(i.a)(q,2),_=z[0],G=z[1],M=Object(n.useState)(""),K=Object(i.a)(M,2),U=K[0],W=K[1],X=Object(n.useState)([]),F=Object(i.a)(X,2),H=F[0],V=F[1],J=Object(n.useRef)(!1),Q=Object(o.g)(),Y=["#name","#description","#price","#category","#count","#brand"];Object(n.useEffect)((function(){Object(u.a)(d.a.mark((function e(){var r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()({method:"GET",withCredentials:!0,url:"/categories"});case 2:return r=e.sent,V(r.data),e.next=6,b()({method:"GET",withCredentials:!0,url:"/product/".concat(t)});case 6:n=e.sent,c(n.data);case 8:case"end":return e.stop()}}),e)})))()}),[]),Object(n.useEffect)((function(){h(a.item_id),g(a.item_name),C(a.description),N(a.price),L(a.brand),G(a.countInStock),W(a.category)}),[a]),Object(n.useEffect)((function(){J.current&&(document.querySelectorAll(".list-group-item>h3")[0].innerText=f)}),[f]),Object(n.useEffect)((function(){J.current&&(document.querySelectorAll(".list-group-item")[2].innerText=S)}),[S]),Object(n.useEffect)((function(){J.current&&(document.querySelectorAll(".list-group-item")[1].innerText=document.querySelectorAll(".list-group-item")[1].innerText.substring(0,8)+E)}),[E]);var Z=function(){var e=Object(u.a)(d.a.mark((function e(t){var r,n,s,c,i,o,l,u,j,x,h,m,O,y,g,v,w,C,I;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),r=[],n=Object(te.a)(Y);try{for(n.s();!(s=n.n()).done;)c=s.value,""===document.querySelector(c).value&&r.push(c)}catch(d){n.e(d)}finally{n.f()}if(0===r.length){e.next=10;break}i=Object(te.a)(r);try{for(i.s();!(o=i.n()).done;)l=o.value,document.querySelector(l).style.border="3px solid red"}catch(d){i.e(d)}finally{i.f()}return document.querySelector("#emptyError").style.display="flex",setTimeout((function(){return document.querySelector("#emptyError").style.display="none"}),3e3),e.abrupt("return");case 10:if(null===E){e.next=17;break}if(u=new RegExp("[+-]?([0-9]*[.])?[0-9]+"),(j=u.exec(String(E))).input===j[0]){e.next=17;break}return document.querySelector("#priceErr").style.display="flex",setTimeout((function(){return document.querySelector("#priceErr").style.display="none"}),3e3),e.abrupt("return");case 17:if(x="https://api.cloudinary.com/v1_1/rakoon/image/upload",!((h=document.querySelector("[type=file]").files).length>1)){e.next=23;break}return document.querySelector("#selectOnlyOneErr").style.display="flex",setTimeout((function(){return document.querySelector("#selectOnlyOneErr").style.display="none"}),3e3),e.abrupt("return");case 23:return null===(m=1===h.length?document.querySelector("[type=file]").files[0]:null)?O=a.image:((y=new FormData).append("file",m),y.append("upload_preset","ml_default"),(g=new XMLHttpRequest).open("POST",x,!1),g.send(y),v=JSON.parse(g.responseText),O=v.url),w=localStorage.getItem("sessionID")||sessionStorage.getItem("sessionID"),e.next=28,Ee.verify(w,"shhhhh");case 28:return C=e.sent,I={user_id:C.user_id,item_id:p,name:f,description:S,price:E,brand:B,count:_,category:U,image:O},e.next=32,b()({method:"PUT",data:{item:I},withCredentials:!0,url:"/editProduct"});case 32:"done"===e.sent.data&&(alert("Updated"),Q.push("/store/products"));case 34:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{style:{margin:"2em",display:"flex",flexDirection:"column"},children:[Object(x.jsx)(ge,{}),Object(x.jsx)("h3",{style:{textAlign:"center"},children:"Edit Product"}),Object(x.jsxs)("div",{style:{margin:"2em auto",display:"inline-flex",flexDirection:"column",fontSize:"1.3rem",width:"430px",position:"relative"},id:"add",children:[Object(x.jsxs)("div",{style:{display:"none",position:"absolute",overflow:"auto",width:"550px",boxShadow:"0 0 15px grey",background:"white",top:"-90px",borderRadius:"10px"},id:"emptyError",children:[Object(x.jsx)("img",{src:R,alt:"error",style:{width:"70px",float:"left"}}),Object(x.jsxs)("div",{style:{flexGrow:"1",marginTop:"8px"},children:[Object(x.jsx)("span",{style:{fontSize:"20px"},children:"One of the following inputs can not be empty"}),Object(x.jsx)("div",{className:"progress-bar-error",children:Object(x.jsx)("span",{className:"progress-bar-inner"})})]})]}),Object(x.jsxs)("div",{style:{display:"none",position:"absolute",overflow:"auto",width:"450px",boxShadow:"0 0 15px grey",background:"white",top:"-90px",borderRadius:"10px"},id:"selectOnlyOneErr",children:[Object(x.jsx)("img",{src:R,alt:"error",style:{width:"70px",float:"left"}}),Object(x.jsxs)("div",{style:{flexGrow:"1",marginTop:"8px"},children:[Object(x.jsx)("span",{style:{fontSize:"20px"},children:"Select only one image"}),Object(x.jsx)("div",{className:"progress-bar-error",children:Object(x.jsx)("span",{className:"progress-bar-inner"})})]})]}),Object(x.jsxs)("div",{style:{display:"none",position:"absolute",overflow:"auto",width:"450px",boxShadow:"0 0 15px grey",background:"white",top:"-90px",borderRadius:"10px"},id:"priceErr",children:[Object(x.jsx)("img",{src:R,alt:"error",style:{width:"70px",float:"left"}}),Object(x.jsxs)("div",{style:{flexGrow:"1",marginTop:"8px"},children:[Object(x.jsx)("span",{style:{fontSize:"20px"},children:"Enter valid price"}),Object(x.jsx)("div",{className:"progress-bar-error",children:Object(x.jsx)("span",{className:"progress-bar-inner"})})]})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"Name:"}),Object(x.jsx)("input",{type:"text",onChange:function(e){g(e.target.value),J.current=!0},value:f,id:"name"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"Description:"}),Object(x.jsx)("textarea",{rows:"5",cols:"23",onChange:function(e){C(e.target.value),J.current=!0},value:S,id:"description"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"Price:"}),Object(x.jsx)("input",{type:"text",onChange:function(e){N(parseFloat(e.target.value)),J.current=!0},value:E,id:"price"})]}),Object(x.jsxs)("div",{style:{position:"relative"},children:[Object(x.jsx)("label",{children:"Image:"}),Object(x.jsx)("button",{style:{display:"block",width:"275px",height:"35px"},onClick:function(){return document.getElementById("image").click()},children:"Change Image"}),Object(x.jsx)("input",{name:"file",type:"file",style:{position:"absolute",right:"0",display:"none"},onChange:function(e){return function(e){document.querySelectorAll("img")[4].src=URL.createObjectURL(e.target.files[0]),console.log("fired")}(e)},id:"image"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"Category"}),Object(x.jsx)("select",(e={name:"categories",id:"categories",onChange:function(e){return W(e.target.value)},value:U},Object(Te.a)(e,"id","category"),Object(Te.a)(e,"children",H.map((function(e){return Object(x.jsx)("option",{value:e.category,children:e.category})}))),e))]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"Count"}),Object(x.jsx)("input",{type:"number",min:"1",onChange:function(e){return G(e.target.value)},value:_,id:"count"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"Brand"}),Object(x.jsx)("input",{type:"text",onChange:function(e){return L(e.target.value)},value:B,id:"brand"})]}),Object(x.jsx)("div",{style:{display:"flex",marginTop:"1rem"},children:Object(x.jsx)("input",{type:"submit",value:"Update",style:{margin:"0 auto",width:"initial",background:"black",color:"white",padding:"0.5rem",borderRadius:"7px"},onClick:function(e){return Z(e)}})})]}),Object(x.jsx)("h3",{style:{textAlign:"center",marginTop:"1rem"},children:"Preview"}),Object(x.jsx)("div",{children:Object(x.jsxs)(k.a,{style:{margin:"2rem"},children:[Object(x.jsx)(A.a,{md:6,children:Object(x.jsx)(je.a,{src:a.image,alt:a.name,style:{position:"relative",maxWidth:"100%",height:"auto"}})}),Object(x.jsx)(A.a,{md:3,children:Object(x.jsxs)(be.a,{variant:"flush",children:[Object(x.jsxs)(be.a.Item,{children:[Object(x.jsx)("h3",{children:a.item_name})," "]}),Object(x.jsxs)(be.a.Item,{children:["Price: $",a.price," "]}),Object(x.jsxs)(be.a.Item,{children:[a.description," "]})]})}),Object(x.jsx)(A.a,{md:3,children:Object(x.jsx)(y.a,{style:{margin:"2rem"},children:Object(x.jsxs)(be.a,{variant:"flush",children:[Object(x.jsx)(be.a.Item,{children:Object(x.jsxs)(k.a,{children:[Object(x.jsx)(A.a,{children:"Price: "}),Object(x.jsx)(A.a,{children:Object(x.jsxs)("srong",{children:[" $ ",a.price," "]})})]})}),Object(x.jsx)(be.a.Item,{children:Object(x.jsxs)(k.a,{children:[Object(x.jsx)(A.a,{children:"Status: "}),Object(x.jsxs)(A.a,{children:[" ",Object(x.jsxs)("srong",{children:[" ",a.countInStock>0?"In Stock":"Out Of Stock"," "]})," "]})]})}),Object(x.jsx)(be.a.Item,{})]})})})]})})]})},De=r(21),Pe=function(){var e=Object(o.h)().token,t=Object(o.g)(),r=Object(n.useState)(""),s=Object(i.a)(r,2),a=s[0],c=s[1],l=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORT,"/2fa/verifySecret/".concat(e)),j=function(){var r=Object(u.a)(d.a.mark((function r(n){var s,c,i;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.preventDefault(),s=a,r.next=4,b()({method:"POST",data:{input:s,id:e},credentials:"include",withCredentials:!0,url:l});case 4:c=r.sent,console.log(c.data),console.log(typeof c.data),typeof c.data==typeof{}?(i=De.sign(c.data,"shhhhh"),sessionStorage.setItem("sessionID",i),t.push("/")):document.querySelector(".InvalidCode").style.display="block";case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return Object(x.jsxs)(P.a,{style:{margin:"3em auto",position:"relative"},children:[Object(x.jsxs)(P.a.Group,{controlId:"formBasicPassword",children:[Object(x.jsx)(P.a.Label,{children:"Verification Code"}),Object(x.jsx)(P.a.Control,{type:"number",onChange:function(e){return c(e.target.value)}})]}),Object(x.jsx)("span",{style:{fontSize:"16px",position:"absolute",right:"0",color:"red",display:"none"},className:"InvalidCode",children:"Code is invalid"}),Object(x.jsx)("div",{style:{display:"flex"},children:Object(x.jsx)(f.a,{variant:"primary",style:{margin:"3em auto"},type:"submit",onClick:function(e){return j(e)},children:"Send"})})]})},Re=function(e){var t=localStorage.getItem("sessionID")||sessionStorage.getItem("sessionID"),r=Object(n.useState)([]),s=Object(i.a)(r,2),a=s[0],c=s[1],l=Object(n.useRef)(!0),j=Object(o.g)(),p=Object(n.useState)(""),h=Object(i.a)(p,2),m=h[0],O=h[1],y=Object(n.useState)(""),v=Object(i.a)(y,2),w=(v[0],v[1]),S=Object(n.useState)(""),C=Object(i.a)(S,2),k=C[0],T=C[1],N=Object(n.useState)(""),D=Object(i.a)(N,2),B=D[0],L=D[1],q=Object(n.useState)(""),z=Object(i.a)(q,2),_=z[0],G=z[1],M=Object(n.useState)(""),K=Object(i.a)(M,2),U=(K[0],K[1]),W=Object(n.useState)(""),X=Object(i.a)(W,2),F=(X[0],X[1],Object(n.useState)("")),H=Object(i.a)(F,2),V=(H[0],H[1]),J=Object(n.useState)(""),Q=Object(i.a)(J,2),Y=(Q[0],Q[1]),Z=function(){var e=Object(u.a)(d.a.mark((function e(){var r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("cont").style.display="none",document.getElementById("loading").style.display="block",r={address:m,city:k,zip:B,country:_},e.next=5,b()({method:"POST",data:{sessionID:t,products:a,info:r},withCredentials:!0,url:"/payment/transfer"});case 5:n=e.sent,document.getElementById("loading").style.display="none","Success"===n.data?(alert("Payment is completed. An invoice has been sent to your email"),j.push("/")):"InsufficientBalance"===n.data?alert("You dont have sufficient balance"):alert("An error happenned"),document.getElementById("cont").style.display="block",console.log(n.data);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(u.a)(d.a.mark((function e(){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()({method:"POST",data:{sessionID:t},withCredentials:!0,url:"/cart/products"});case 2:r=e.sent,c(r.data),l.current=!1;case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){if(Object.keys(localStorage).includes("sessionID"))$();else{var e=[];Object.keys(localStorage).forEach((function(t){e.push(JSON.parse(localStorage.getItem(t)))})),c(e)}}),[]),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{id:"loading",style:{display:"none"},children:Object(x.jsx)("img",{src:E,alt:"Loading...",style:{display:"block",margin:"0 auto"}})}),Object(x.jsxs)("div",{id:"cont",children:[Object(x.jsx)(g.b,{className:"btn btn-light my-3",to:"/cart",children:"Go Back"}),Object(x.jsxs)("div",{style:{display:"none",position:"absolute",overflow:"auto",width:"450px",boxShadow:"0 0 15px grey",background:"white",top:"-90px",borderRadius:"10px"},id:"addressError",children:[Object(x.jsx)("img",{src:R,alt:"error",style:{width:"70px",float:"left"}}),Object(x.jsxs)("div",{style:{flexGrow:"1",marginTop:"3px"},children:[Object(x.jsx)("span",{style:{fontSize:"17px"},children:"Please fill out the neccesary "}),Object(x.jsx)("div",{className:"progress-bar-error",children:Object(x.jsx)("span",{className:"progress-bar-inner"})})]})]}),Object(x.jsxs)("div",{style:{display:"none",position:"absolute",overflow:"auto",width:"450px",boxShadow:"0 0 15px grey",background:"white",top:"-90px",borderRadius:"10px"},id:"paymentError",children:[Object(x.jsx)("img",{src:R,alt:"error",style:{width:"70px",float:"left"}}),Object(x.jsxs)("div",{style:{flexGrow:"1",marginTop:"3px"},children:[Object(x.jsx)("span",{style:{fontSize:"17px"},children:"Please insert payment info!"}),Object(x.jsx)("div",{className:"progress-bar-error",children:Object(x.jsx)("span",{className:"progress-bar-inner"})})]})]}),Object(x.jsx)("h4",{class:"mb-5",style:{textAlign:"center"},children:"Checkout"}),Object(x.jsxs)(I.a,{children:[Object(x.jsx)("div",{style:{order:"2"},children:Object(x.jsxs)("div",{class:"",children:[Object(x.jsx)("h4",{class:"d-flex justify-content-between align-items-center mb-3",children:Object(x.jsx)("span",{class:"text-muted",children:"Your cart"})}),Object(x.jsxs)("ul",{class:"list-group mb-3",children:[a.map((function(e){return Object(x.jsxs)("li",{class:"list-group-item d-flex justify-content-between lh-condensed",children:[Object(x.jsx)("div",{children:Object(x.jsx)("h6",{class:"my-0",children:e.item_name})}),Object(x.jsxs)("span",{class:"text-muted",children:["$",e.price]})]})})),Object(x.jsxs)("li",{class:"list-group-item d-flex justify-content-between",children:[Object(x.jsx)("div",{children:Object(x.jsx)("h6",{class:"my-0",children:"Total: "})}),Object(x.jsxs)("span",{children:["$",a.reduce((function(e,t){return e+t.price}),0)]})]}),Object(x.jsx)("div",{style:{marginTop:"1rem"},children:Object(x.jsx)(f.a,{onClick:function(){return Z()},children:"Complete Payment"})})]})]})}),Object(x.jsxs)("div",{class:"col-md-8 order-md-1",children:[Object(x.jsxs)(P.a,{style:{width:"auto"},children:[Object(x.jsx)("h4",{class:"mb-4",children:" Address"}),Object(x.jsxs)(P.a.Row,{children:[Object(x.jsxs)(P.a.Group,{as:A.a,controlId:"formGridCity",children:[Object(x.jsxs)(P.a.Label,{children:["First Name ",Object(x.jsx)("span",{class:"text-muted",children:"*"})]}),Object(x.jsx)(P.a.Control,{id:"firstname",type:"firstname",onChange:function(e){return V(e.target.value)}})]}),Object(x.jsxs)(P.a.Group,{as:A.a,controlId:"formGridZip",children:[Object(x.jsxs)(P.a.Label,{children:["Surname ",Object(x.jsx)("span",{class:"text-muted",children:"*"})]}),Object(x.jsx)(P.a.Control,{id:"surname",type:"surname",onChange:function(e){return Y(e.target.value)}})]})]}),Object(x.jsxs)(P.a.Group,{controlId:"formGridAddress1",children:[Object(x.jsxs)(P.a.Label,{style:{marginRight:"1rem"},children:["Address ",Object(x.jsx)("span",{class:"text-muted",children:"*"})]}),Object(x.jsx)(P.a.Control,{placeholder:"1234 Main St",id:"adress",type:"adress",onChange:function(e){return O(e.target.value)}})]}),Object(x.jsxs)(P.a.Group,{controlId:"formGridAddress2",children:[Object(x.jsxs)(P.a.Label,{style:{marginRight:"1rem"},children:["Address 2 ",Object(x.jsx)("span",{class:"text-muted",children:"(Optional)"})]}),Object(x.jsx)(P.a.Control,{placeholder:"Apartment, studio, or floor",id:"adress2",type:"adress2",onChange:function(e){return w(e.target.value)}})]}),Object(x.jsxs)(P.a.Row,{children:[Object(x.jsxs)(P.a.Group,{as:A.a,controlId:"formGridZip",children:[Object(x.jsxs)(P.a.Label,{children:["Country ",Object(x.jsx)("span",{class:"text-muted",children:"*"})," "]}),Object(x.jsx)(P.a.Control,{id:"country",type:"country",onChange:function(e){return G(e.target.value)}})]}),Object(x.jsxs)(P.a.Group,{as:A.a,controlId:"formGridCity",children:[Object(x.jsxs)(P.a.Label,{children:["City ",Object(x.jsx)("span",{class:"text-muted",children:"*"})," "]}),Object(x.jsx)(P.a.Control,{id:"city",type:"city",onChange:function(e){return T(e.target.value)}})]}),Object(x.jsxs)(P.a.Group,{as:A.a,controlId:"formGridZip",children:[Object(x.jsxs)(P.a.Label,{children:["Zip ",Object(x.jsx)("span",{class:"text-muted",children:"*"})]}),Object(x.jsx)(P.a.Control,{id:"zipCode",type:"zipCode",onChange:function(e){return L(e.target.value)}})]})]}),Object(x.jsx)(P.a.Row,{children:Object(x.jsxs)(P.a.Group,{as:A.a,controlId:"formGridZip",children:[Object(x.jsxs)(P.a.Label,{children:["Phone Number ",Object(x.jsx)("span",{class:"text-muted",children:"*"})]}),Object(x.jsx)(P.a.Control,{id:"phoneNumber",type:"phoneNumber",onChange:function(e){return U(e.target.value)}})]})}),Object(x.jsx)(P.a.Text,{className:"text-muted",children:"* must be filled out"})]}),Object(x.jsx)("hr",{class:"mb-4"}),Object(x.jsx)(P.a.Group,{controlId:"formBasicCheckbox",children:Object(x.jsx)(P.a.Check,{type:"checkbox",label:"Save this information for next time"})}),Object(x.jsx)("hr",{class:"mb-4"})]})]})]})]})},Be=r(21),Le=function(){var e=s.a.useState(""),t=Object(i.a)(e,2),r=t[0],n=t[1],a=s.a.useState(""),c=Object(i.a)(a,2),l=c[0],j=c[1],p=s.a.useState(""),h=Object(i.a)(p,2),m=h[0],O=h[1],y=s.a.useState(""),g=Object(i.a)(y,2),v=g[0],w=g[1],S=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORT,localStorage.getItem("sessionID")||sessionStorage.getItem("sessionID")),C=Be.verify(S,"shhhhh"),I=Object(o.g)(),T=function(){var e=Object(u.a)(d.a.mark((function e(t){var n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),document.querySelector("#formBasicPassword").value===document.querySelector("#formBasicPassword2").value){e.next=7;break}return document.querySelector("#doesNotMatch").style.display="flex",setTimeout((function(){document.querySelector("#doesNotMatch").style.display="none"}),3e3),e.abrupt("return");case 7:if(!(document.querySelector("#formBasicPassword").value.length<6)){e.next=13;break}return document.querySelector("#min6Char").style.display="flex",setTimeout((function(){document.querySelector("#min6Char").style.display="none"}),3e3),e.abrupt("return");case 13:if(!(document.querySelector("#firstName").value.length<3||document.querySelector("#lastName").value.length<3)){e.next=17;break}return document.querySelector("#nameError").style.display="flex",setTimeout((function(){document.querySelector("#nameError").style.display="none"}),3e3),e.abrupt("return");case 17:return document.querySelector("#submit").disabled=!0,document.querySelectorAll("input").forEach((function(e){return e.disabled=!0})),n={email:r,name:m,lastname:v,password:l,owner_id:C.user_id},console.log(n),e.next=23,b()({method:"POST",data:{user:n},credentials:"include",withCredentials:!0,url:"/addSalesManager"});case 23:"exists"===(s=e.sent).data.res?(document.querySelector("#exists").style.display="flex",setTimeout((function(){document.querySelector("#exists").style.display="none"}),3e3),document.querySelector("#submit").disabled=!1,document.querySelectorAll("input").forEach((function(e){return e.disabled=!1}))):!0===s.data&&(document.querySelector("#success").style.display="flex",setTimeout((function(){document.querySelector("#success").style.display="none",I.push("/store")}),3e3));case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{style:{margin:"2rem"},children:[Object(x.jsx)(ge,{user:C}),Object(x.jsxs)("div",{style:{width:"590px",margin:"3rem auto",fontSize:"2em",position:"relative"},children:[Object(x.jsxs)("div",{style:{display:"none",position:"absolute",overflow:"auto",width:"450px",boxShadow:"0 0 15px grey",background:"white",top:"-90px",right:"70px",borderRadius:"10px"},id:"exists",children:[Object(x.jsx)("img",{src:R,alt:"error",style:{width:"70px",float:"left"}}),Object(x.jsxs)("div",{style:{flexGrow:"1",marginTop:"3px"},children:[Object(x.jsx)("span",{style:{fontSize:"20px"},children:"User already exists"}),Object(x.jsx)("div",{className:"progress-bar-error",children:Object(x.jsx)("span",{className:"progress-bar-inner"})})]})]}),Object(x.jsxs)("div",{style:{display:"none",padding:"10px",position:"absolute",overflow:"auto",width:"450px",boxShadow:"0 0 15px grey",background:"white",top:"-90px",right:"70px",borderRadius:"10px"},id:"success",children:[Object(x.jsx)("img",{src:B,alt:"success",style:{width:"70px",float:"left"}}),Object(x.jsxs)("div",{style:{flexGrow:"1",marginTop:"3px",marginLeft:"10px",lineHeight:"0.9"},children:[Object(x.jsxs)("span",{style:{fontSize:"20px"},children:["An email has been sent to ",r," for activation"]}),Object(x.jsx)("div",{className:"progress-bar-success",children:Object(x.jsx)("span",{className:"progress-bar-inner"})})]})]}),Object(x.jsxs)("div",{style:{display:"none",position:"absolute",overflow:"auto",width:"450px",boxShadow:"0 0 15px grey",background:"white",top:"-90px",right:"70px",borderRadius:"10px"},id:"doesNotMatch",children:[Object(x.jsx)("img",{src:R,alt:"error",style:{width:"70px",float:"left"}}),Object(x.jsxs)("div",{style:{flexGrow:"1",marginTop:"3px"},children:[Object(x.jsx)("span",{style:{fontSize:"20px"},children:"Passwords does not match"}),Object(x.jsx)("div",{className:"progress-bar-error",children:Object(x.jsx)("span",{className:"progress-bar-inner"})})]})]}),Object(x.jsxs)(P.a,{style:{margin:"0 auto",width:"500px"},children:[Object(x.jsxs)(P.a.Group,{controlId:"formBasicEmail",style:{position:"relative"},children:[Object(x.jsx)(P.a.Label,{children:"Email:"}),Object(x.jsx)(P.a.Control,{type:"email",placeholder:"Enter email",onChange:function(e){return n(e.target.value)},style:{width:"332px",border:"1px solid grey"}})]}),Object(x.jsxs)(P.a.Group,{controlId:"formBasicPassword",children:[Object(x.jsx)(P.a.Label,{children:"Password"}),Object(x.jsx)(P.a.Control,{type:"password",placeholder:"Password",onChange:function(e){return j(e.target.value)},style:{width:"332px",border:"1px solid grey"}})]}),Object(x.jsxs)(P.a.Group,{controlId:"formBasicPassword2",children:[Object(x.jsx)(P.a.Label,{children:"Password(*)"}),Object(x.jsx)(P.a.Control,{type:"password",placeholder:"Password",style:{width:"332px",border:"1px solid grey"}})]}),Object(x.jsxs)(k.a,{style:{width:"430px",marginLeft:"auto",display:"flex",justifyContent:"space-between",position:"relative"},children:[Object(x.jsx)(A.a,{children:Object(x.jsx)(P.a.Control,{placeholder:"First name",onChange:function(e){return O(e.target.value)},style:{border:"1px solid grey"},id:"firstName"})}),Object(x.jsx)(A.a,{children:Object(x.jsx)(P.a.Control,{placeholder:"Last name",onChange:function(e){return w(e.target.value)},style:{border:"1px solid grey"},id:"lastName"})})]}),Object(x.jsx)("div",{children:Object(x.jsx)(f.a,{variant:"primary",type:"submit",onClick:function(e){return T(e)},style:{marginTop:"20px"},id:"submit",children:"Create"})})]})]})]})},qe=r(21),ze=function(){var e=Object(n.useState)([""]),t=Object(i.a)(e,2),r=t[0],s=t[1],a=localStorage.getItem("sessionID")||sessionStorage.getItem("sessionID"),c=qe.verify(a,"shhhhh"),o=function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()({method:"POST",data:{user_id:c.user_id},withCredentials:!0,url:"/getStoreComments"});case 2:t=e.sent,s(t.data),console.log(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){o()}),[]),Object(x.jsxs)("div",{style:{marginTop:"1rem"},children:[Object(x.jsx)(ge,{user:c}),Object(x.jsx)("h3",{style:{textAlign:"center",marginTop:"2rem"},children:"Unverified Comments"}),""===r[0]?Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{id:"loading",style:{display:"block"},children:Object(x.jsx)("img",{src:E,alt:"Loading...",style:{display:"block",margin:"0 auto"}})})}):0!==r.length?r.map((function(e){return Object(x.jsx)(pe,{comment:e,isVerifyPage:!0})})):Object(x.jsx)("h5",{style:{textAlign:"center",marginTop:"2rem"},children:"You have no unverified comments"})]})},_e=r(21),Ge=function(){var e=s.a.useState([""]),t=Object(i.a)(e,2),r=t[0],a=t[1],c=localStorage.getItem("sessionID")||sessionStorage.getItem("sessionID"),o=_e.verify(c,"shhhhh"),l=function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()({method:"POST",data:{user:o},withCredentials:!0,url:"/store/orders"});case 2:t=e.sent,a(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){l()}),[]),Object(x.jsxs)("div",{children:[Object(x.jsx)(ge,{user:o}),""===r[0]?Object(x.jsx)("div",{id:"loading",style:{display:"block"},children:Object(x.jsx)("img",{src:E,alt:"Loading...",style:{display:"block",margin:"0 auto"}})}):0!==r.length?Object.keys(r).map((function(e){return Object(x.jsx)(ne,{orders:r[e],isStore:!0})})):"No Orders"]})},Me=r(187),Ke=r(21),Ue=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),r=t[0],s=t[1],a=Object(n.useState)(),c=Object(i.a)(a,2),o=(c[0],c[1]),l=localStorage.getItem("sessionID")||sessionStorage.getItem("sessionID"),j=Ke.verify(l,"shhhhh"),p=function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()({method:"GET",data:{user_id:j.user_id,role_id:j.role_id},withCredentials:!0,url:"http://localhost:4000/getCampaigns"});case 2:t=e.sent,s(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(u.a)(d.a.mark((function e(){var t,r,n,s,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()({method:"POST",data:{user_id:j.user_id,role_id:j.role_id},withCredentials:!0,url:"/getStoreItems"});case 2:t=e.sent,console.log(t.data),r=new Map,n=Object(te.a)(t.data);try{for(n.s();!(s=n.n()).done;)a=s.value,void 0===r.get(a.category)?r.set(a.category,[a]):r.set(a.category,[].concat(Object(Me.a)(r.get(a.category)),[a]))}catch(c){n.e(c)}finally{n.f()}console.log(r),console.log(r.keys()),console.log(Array.from(r.keys())),o(r);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){p(),h()}),[]),Object(n.useEffect)((function(){}),[r]),Object(x.jsxs)("div",{children:[Object(x.jsx)(ge,{user:j}),Object(x.jsx)("h3",{style:{textAlign:"center"},children:"Campaigns"}),Object(x.jsx)("div",{style:{border:"1px solid red",width:"70%",margin:"40px auto",padding:"20px"},children:0===r.length?Object(x.jsx)("p",{children:"Store does not have any campaign"}):Object(x.jsx)("span",{children:"campaign"})}),Object(x.jsx)("h3",{style:{textAlign:"center"},children:"Deploy Campaign"}),Object(x.jsxs)("div",{style:{border:"1px solid red",width:"70%",margin:"40px auto",padding:"20px"},children:[Object(x.jsx)("h5",{children:"Campaign by Category"}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"Category"}),Object(x.jsx)("select",{style:{width:"120px"}}),Object(x.jsx)("label",{style:{margin:"auto"},children:"Discount"}),Object(x.jsx)("input",{type:"text",value:"%",style:{width:"70px"}}),Object(x.jsx)("label",{style:{margin:"auto"},children:"Date By"}),Object(x.jsx)("input",{type:"date",id:"date"}),Object(x.jsx)("input",{type:"button",value:"Deploy",id:"category"})]})]})]})},We=Object(o.i)((function(){var e=Object(n.useState)(0),t=Object(i.a)(e,2),r=t[0],s=t[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(F,{numOfItems:r,setNumOfItems:s}),Object(x.jsxs)(o.d,{children:[Object(x.jsx)(o.b,{path:"/",exact:!0,component:function(){return Object(x.jsx)(T,{numOfItems:r,setNumOfItems:s})}}),Object(x.jsx)(J,{path:"/login",component:m}),Object(x.jsx)(o.b,{path:"/two-factor-auth/:token",component:Pe}),Object(x.jsx)(o.b,{path:"/cart",component:function(){return Object(x.jsx)(D,{numOfItems:r,setNumOfItems:s})}}),Object(x.jsx)(o.b,{path:"/register",component:L}),Object(x.jsx)(o.b,{path:"/checkout",component:function(){return Object(x.jsx)(Re,{numOfItems:r,setNumOfItems:s})}}),Object(x.jsx)(o.b,{path:"/store_register",component:Oe}),Object(x.jsx)(o.b,{path:"/forgot",component:le}),Object(x.jsx)(o.b,{path:"/reset/:token",component:de}),Object(x.jsx)(o.b,{path:"/activate/:token",component:ue}),Object(x.jsx)(o.b,{path:"/product/:id",component:me}),Object(x.jsx)(o.b,{path:"/category/:name",component:function(){return Object(x.jsx)(fe,{numOfItems:r,setNumOfItems:s})}}),Object(x.jsx)(o.b,{path:"/search/:keyword",component:function(){return Object(x.jsx)(ye,{numOfItems:r,setNumOfItems:s})}}),Object(x.jsx)(Y,{path:"/store",exact:!0,component:we}),Object(x.jsx)(Y,{path:"/store/addproduct",exact:!0,component:Ce}),Object(x.jsx)(Y,{path:"/store/products",exact:!0,component:Ae}),Object(x.jsx)(Y,{path:"/store/addsalesmanager",exact:!0,component:Le}),Object(x.jsx)(Y,{path:"/store/campaigns",exact:!0,component:Ue}),Object(x.jsx)(Y,{path:"/store/comments",exact:!0,component:ze}),Object(x.jsx)(Y,{path:"/store/orders",exact:!0,component:Ge}),Object(x.jsx)(o.b,{path:"/store/products/:item_id",component:Ne}),Object(x.jsx)(V,{path:"/profile",exact:!0,component:oe}),Object(x.jsx)(V,{path:"/profile/privacy",component:ae}),Object(x.jsx)(V,{path:"/profile/orders",component:se}),Object(x.jsx)(V,{path:"/profile/wallet",component:ie})]})]})}));c.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(g.a,{children:Object(x.jsx)(We,{})})}),document.getElementById("root"));t.default=We},79:function(e,t,r){}},[[334,1,2]]]);
//# sourceMappingURL=main.212c6c22.chunk.js.map